(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b35d8ad0"],{2392:function(t,i,e){"use strict";e("6571")},2444:function(t,i,e){},4920:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"discoverContainer"},[e("div",{staticClass:"FavoriteVideoContainer"},[e("div",{staticClass:"FavoriteVideo"},[0==t.favoriteMvList.length?e("div",{staticClass:"tip"},[e("div",[t._v("暂无收藏视频")])]):t._e(),e("div",[0!=t.favoriteMvList.length?e("div",{staticClass:"title"},[t._v("收藏的视频和MV")]):t._e(),e("video-list-card",{attrs:{videoList:t.favoriteMvList,videoType:"video",isLoad:!0},on:{clickListCardItem:t.clickMvItem,bottomLoad:t.bottomLoad}})],1)])]),e("div",{staticClass:"FavoriteSingerContainer"},[e("div",{staticClass:"FavoriteSinger"},[0!=t.SingerListCount?e("div",[e("div",{staticClass:"title"},[t._v("收藏的歌手("+t._s(t.SingerListCount)+")")]),e("list-card",{attrs:{listCardData:t.favoriteSingerList},on:{clickListCardItem:t.clickListCardItem}})],1):e("div",{staticClass:"tip"},[e("div",[t._v("暂无收藏歌手")])])])]),e("div",{staticClass:"FavoriteAlbumContainer"},[e("div",{staticClass:"FavoriteAlbum"},[0!=t.AlbumListCount?e("div",[e("div",{staticClass:"title"},[t._v("收藏的专辑("+t._s(t.AlbumListCount)+")")]),e("list-card",{attrs:{listCardData:t.favoriteAlbumList},on:{clickListCardItem:t.clickListCardItem}})],1):e("div",{staticClass:"tip"},[e("div",[t._v("暂无收藏专辑")])])])])])},a=[],r=e("cf90"),n=e("9916"),d=e("2f62"),o={name:"Discover",components:{ListCard:n["a"],VideoListCard:r["a"]},data(){return{favoriteMvList:[],hasMore:!1,currentPage:1,favoriteSingerList:[],SingerListCount:0,favoriteAlbumList:[],AlbumListCount:0,navBarData:[{name:"个性推荐",path:"/discover/recommend"},{name:"歌单",path:"/discover/musiclist"},{name:"排行榜",path:"/discover/ranking"},{name:"歌手",path:"/discover/singer"}]}},computed:{...Object(d["c"])(["isLogin","subAlbumList","subSingerList"])},methods:{...Object(d["b"])(["updateSubAlbumList","updateSubSingerList"]),async getFavoriteAlbumList(){const t=Date.parse(new Date),i=await this.get("/album/sublist",{limit:1e3,timestamp:t});this.favoriteAlbumList=i.data,this.AlbumListCount=i.count,this.updateSubAlbumList(i.data)},clickListCardItem(t){this.$router.push({name:"album",params:{id:t}})},async getFavoriteSingerList(){const t=Date.parse(new Date),i=await this.get("/artist/sublist",t);this.favoriteSingerList=i.data,this.SingerListCount=i.count,this.updateSubSingerList(i.data)},clickListCardItem(t){this.$router.push({name:"singerDetail",params:{id:t}})},async getFavoriteMvList(){const t=Date.parse(new Date),i=await this.get("/mv/sublist",{limit:50,offset:50*(this.currentPage-1),timestamp:t});this.favoriteMvList.push(...i.data)},clickMvItem({id:t,index:i}){0===this.favoriteMvList[i].type?this.$router.push({name:"videoDetail",params:{id:t,type:"mv"}}):this.$router.push({name:"videoDetail",params:{id:t,type:"video"}})},bottomLoad(){this.hasMore&&(this.currentPage+=1,this.getFavoriteMvList())}},created(){this.isLogin||(this.$message.error("收藏页面只有登录后才能访问哦!"),this.$router.replace("/discover/recommend")),null===this.subAlbumList?this.getFavoriteAlbumList():(this.favoriteAlbumList=this.subAlbumList,this.AlbumListCount=this.subAlbumList.length),null===this.subSingerList?this.getFavoriteSingerList():(this.favoriteSingerList=this.subSingerList,this.SingerListCount=this.subSingerList.length)},watch:{subAlbumList(t){this.favoriteAlbumList=t,this.AlbumListCount=t.length},subSingerList(t){this.favoriteSingerList=t,this.SingerListCount=t.length}}},l=o,c=(e("81dd"),e("2877")),u=Object(c["a"])(l,s,a,!1,null,"5fc6efcc",null);i["default"]=u.exports},6571:function(t,i,e){},"81dd":function(t,i,e){"use strict";e("d61b")},9916:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],ref:"listCard",staticClass:"listCard",attrs:{"infinite-scroll-disabled":t.disabled,"infinite-scroll-distance":300,"infinite-scroll-immediate":!1}},t._l(t.listCardData,(function(i,s){return e("div",{key:s,staticClass:"listCardItem",on:{click:function(e){return t.clickListCardItem(i.id)}}},[e("div",{staticClass:"image"},[e("img",{attrs:{src:(i.picUrl||i.coverImgUrl)+"?param=400y400",alt:""}})]),e("div",{staticClass:"title"},[t._v(t._s(i.name))])])})),0)},a=[],r={name:"ListCard",props:{listCardData:{type:Array,default(){return[]}},isLoad:{type:Boolean,default(){return!1}}},data(){return{disabled:!0}},methods:{clickListCardItem(t){this.$emit("clickListCardItem",t)},load(){this.$emit("bottomLoad"),this.disabled=!0}},watch:{listCardData(){!0===this.isLoad&&(0!==this.listCardData.length?this.disabled=!1:this.disabled=!0)}}},n=r,d=(e("d33a"),e("2877")),o=Object(d["a"])(n,s,a,!1,null,"78ab9603",null);i["a"]=o.exports},cf90:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",["singerMv"==t.videoType||"mv"==t.videoType?e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"videoListCard",attrs:{"infinite-scroll-disabled":t.disabled,"infinite-scroll-distance":300,"infinite-scroll-immediate":!1}},t._l(t.videoList,(function(i,s){return e("div",{key:s,staticClass:"cardItem",on:{click:function(e){return t.clickListCardItem(i.id,s,i.type)}}},[e("div",{staticClass:"videoCover"},[e("img",{attrs:{src:("singerMv"==t.videoType?i.imgurl:i.cover)+"?param=680y400",alt:""}}),e("div",{staticClass:"playCount"},[e("i",{staticClass:"iconfont icon-shipin"}),t._v(t._s(t._f("handleNum")(i.playCount)))]),"singerMv"==t.videoType?e("div",{staticClass:"videoTime"},[t._v(" "+t._s(t._f("handleMusicTime")(i.duration))+" ")]):t._e()]),e("div",{staticClass:"videoTitle"},[t._v(t._s(i.name))]),"mv"==t.videoType?e("div",{staticClass:"singer"},[t._v(t._s(i.artistName))]):t._e()])})),0):"video"==t.videoType?e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"videoListCard",attrs:{"infinite-scroll-disabled":t.disabled,"infinite-scroll-distance":300,"infinite-scroll-immediate":!1}},t._l(t.videoList,(function(i,s){return e("div",{key:s,staticClass:"cardItem",on:{click:function(e){return t.clickListCardItem(i.vid||i.data.vid,s,i.type)}}},[e("div",{staticClass:"videoCover"},[e("img",{attrs:{src:(i.coverUrl||i.data.coverUrl)+"?param=1260y800",alt:""}}),e("div",{staticClass:"playCount"},[e("i",{staticClass:"iconfont icon-shipin"}),t._v(t._s(t._f("handleNum")(i.playTime||i.data.playTime)))]),e("div",{staticClass:"videoTime"},[t._v(" "+t._s(t._f("handleMusicTime")(i.durationms||i.data.durationms))+" ")])]),e("div",{staticClass:"videoTitle"},[t._v(t._s(i.title||i.data.title))])])})),0):t._e()])},a=[],r=e("d930"),n={name:"VideoListCard",data(){return{disabled:!0}},props:{videoList:{type:Array,default(){return[]}},isLoad:{type:Boolean,default(){return!1}},videoType:{type:String,default(){return"singerMv"}}},methods:{clickListCardItem(t,i,e){this.$emit("clickListCardItem",{id:t,index:i,type:e})},load(){this.$emit("bottomLoad"),this.disabled=!0}},filters:{handleMusicTime:r["b"],handleNum:r["c"]},watch:{videoList(){!0===this.isLoad&&(0!==this.videoList.length?this.disabled=!1:this.disabled=!0)}}},d=n,o=(e("2392"),e("2877")),l=Object(o["a"])(d,s,a,!1,null,"2ef37bc3",null);i["a"]=l.exports},d33a:function(t,i,e){"use strict";e("2444")},d61b:function(t,i,e){},d930:function(t,i,e){"use strict";function s(t,i){/(y+)/.test(i)&&(i=i.replace(RegExp.$1,(""+t.getFullYear()).substr(4-RegExp.$1.length)));const e={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(const s in e)if(new RegExp(`(${s})`).test(i)){const t=""+e[s];i=i.replace(RegExp.$1,1===RegExp.$1.length?t:a(t))}return i}function a(t){return("00"+t).substr(t.length)}function r(t){return t>1e4?(t=(t/1e4).toFixed(1),t+"万"):t}function n(t){t=parseInt(t),t=t>1e4?Math.floor(t/1e3):Math.floor(t);let i=Math.floor(t/60),e=Math.floor(t%60);return i=i<10?"0"+i:i,e=e<10?"0"+e:e,`${i}:${e}`}function d(t){t=t.split(":");const i=parseInt(t[0]),e=parseInt(t[1]);return 60*i+e}e.d(i,"a",(function(){return s})),e.d(i,"c",(function(){return r})),e.d(i,"b",(function(){return n})),e.d(i,"d",(function(){return d}))}}]);
//# sourceMappingURL=chunk-b35d8ad0.53648dee.js.map