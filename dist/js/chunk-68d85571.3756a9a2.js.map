{"version":3,"sources":["webpack:///./src/components/Comment/Comment.vue?3296","webpack:///./src/components/Comment/Comment.vue?3c64","webpack:///src/components/Comment/Comment.vue","webpack:///./src/components/Comment/Comment.vue?02a9","webpack:///./src/components/Comment/Comment.vue","webpack:///./src/views/videoDetail/VideoDetail.vue?8f85","webpack:///./src/views/videoDetail/VideoDetail.vue?e8f3","webpack:///src/views/videoDetail/VideoDetail.vue","webpack:///./src/views/videoDetail/VideoDetail.vue?2bf2","webpack:///./src/views/videoDetail/VideoDetail.vue","webpack:///./src/plugins/utils.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_t","_l","item","index","key","attrs","user","avatarUrl","on","$event","goToPersonal","userId","_v","_s","nickname","content","item1","index1","_f","time","class","liked","likeCurrentComment","commentId","likedCount","_m","staticRenderFns","component","$route","params","type","videoUrl","videoInfo","cover","coverUrl","playVideo","artists","img1v1Url","name","creator","title","publishTime","playCount","playTime","likeVideo","isLike","subVideo","isSub","_e","directives","rawName","value","expression","comments","id","hotComments","getMvComment","getVideoComment","slot","total","commentsPage","commentPageChange","relatedVideo","length","goToRelatedVideo","vid","durationms","userName","formatDate","date","fmt","test","replace","RegExp","$1","getFullYear","substr","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","handleNum","num","toFixed","handleMusicTime","parseInt","Math","floor","m","s","returnSecond","split"],"mappings":"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","file":"js/chunk-68d85571.3756a9a2.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=style&index=0&id=65bbec1a&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hotComments\"},[_c('div',{staticClass:\"commentHeader\"},[_vm._t(\"title\")],2),_vm._l((_vm.comments),function(item,index){return _c('div',{key:index,staticClass:\"commentItem\"},[_c('div',{staticClass:\"commentCreatorAvatar\"},[_c('img',{attrs:{\"src\":item.user.avatarUrl + '?param=100y100',\"alt\":\"\"},on:{\"click\":function($event){return _vm.goToPersonal(item.user.userId)}}})]),_c('div',{staticClass:\"commentMain\"},[_c('div',{staticClass:\"commentContent\"},[_c('span',{staticClass:\"commentUserNickName\",on:{\"click\":function($event){return _vm.goToPersonal(item.user.userId)}}},[_vm._v(_vm._s(item.user.nickname)+\": \")]),_c('span',[_vm._v(_vm._s(item.content))])]),_c('div',{staticClass:\"replied\"},_vm._l((item.beReplied),function(item1,index1){return _c('div',{key:index1,staticClass:\"repliedItem\"},[_c('span',{staticClass:\"repliedUser\",on:{\"click\":function($event){return _vm.goToPersonal(item.user.userId)}}},[_vm._v(\"@\"+_vm._s(item1.user.nickname)+\": \")]),_c('span',{staticClass:\"repliedContent\"},[_vm._v(_vm._s(item1.content))])])}),0),_c('div',{staticClass:\"commentBottom\"},[_c('div',{staticClass:\"commentCreatedTime\"},[_vm._v(\" \"+_vm._s(_vm._f(\"showDate\")(item.time))+\" \")]),_c('div',{staticClass:\"commentButtons\"},[_c('div',{class:item.liked ? 'likeCurrentComment' : '',on:{\"click\":function($event){return _vm.likeCurrentComment(item.liked, item.commentId)}}},[_c('i',{staticClass:\"iconfont icon-good\"}),_vm._v(\" \"+_vm._s(item.likedCount)+\" \")]),_vm._m(0,true),_vm._m(1,true)])])])])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i',{staticClass:\"iconfont icon-zhuanfa\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i',{staticClass:\"iconfont icon-pinglun\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"hotComments\">\r\n    <div class=\"commentHeader\"><slot name=\"title\"></slot></div>\r\n    <div class=\"commentItem\" v-for=\"(item, index) in comments\" :key=\"index\">\r\n      <div class=\"commentCreatorAvatar\">\r\n        <img :src=\"item.user.avatarUrl + '?param=100y100'\" alt=\"\" @click=\"goToPersonal(item.user.userId)\" />\r\n      </div>\r\n      <div class=\"commentMain\">\r\n        <div class=\"commentContent\">\r\n          <span class=\"commentUserNickName\" @click=\"goToPersonal(item.user.userId)\">{{ item.user.nickname }}:&nbsp;</span>\r\n          <span>{{ item.content }}</span>\r\n        </div>\r\n        <div class=\"replied\">\r\n          <div class=\"repliedItem\" v-for=\"(item1, index1) in item.beReplied\" :key=\"index1\">\r\n            <span class=\"repliedUser\" @click=\"goToPersonal(item.user.userId)\">@{{ item1.user.nickname }}:&nbsp;</span>\r\n            <span class=\"repliedContent\">{{ item1.content }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"commentBottom\">\r\n          <div class=\"commentCreatedTime\">\r\n            {{ item.time | showDate }}\r\n          </div>\r\n          <div class=\"commentButtons\">\r\n            <div @click=\"likeCurrentComment(item.liked, item.commentId)\" :class=\"item.liked ? 'likeCurrentComment' : ''\">\r\n              <i class=\"iconfont icon-good\"></i> {{ item.likedCount }}\r\n            </div>\r\n            <div><i class=\"iconfont icon-zhuanfa\"></i></div>\r\n            <div>\r\n              <i class=\"iconfont icon-pinglun\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { formatDate } from '@/plugins/utils';\r\n  import { mapMutations } from 'vuex';\r\n  export default {\r\n    name: 'Comment',\r\n    props: {\r\n      // 评论数据\r\n      comments: {\r\n        type: Array,\r\n        default() {\r\n          return [];\r\n        },\r\n      },\r\n      // 评论的类型\r\n      commentType: {\r\n        type: String,\r\n        default() {\r\n          return '';\r\n        },\r\n      },\r\n      // 评论对象的id\r\n      commentId: {\r\n        type: String,\r\n        default() {\r\n          return '';\r\n        },\r\n      },\r\n      // 歌曲评论需要歌曲名称\r\n      musicTitle: {\r\n        type: String,\r\n        default() {\r\n          return '';\r\n        },\r\n      },\r\n      // 是否是热门评论\r\n      isHotComment: {\r\n        type: Boolean,\r\n        default() {\r\n          return true;\r\n        },\r\n      },\r\n    },\r\n    methods: {\r\n      ...mapMutations(['changeMusicDetailCardState']),\r\n      // 评论点赞\r\n      async likeCurrentComment(flag, cid) {\r\n        // 判断是否登录\r\n        if (!this.$store.state.isLogin) {\r\n          this.$message.warning('只有登陆后才能点赞哦!');\r\n          return;\r\n        }\r\n        // 获取时间戳\r\n        const timestamp = Date.parse(new Date());\r\n        // 判断评论的类型\r\n        let type;\r\n        switch (this.commentType) {\r\n          case 'album':\r\n            type = 3;\r\n            break;\r\n          case 'musicList':\r\n            type = 2;\r\n            break;\r\n          case 'music':\r\n            type = 0;\r\n            break;\r\n          case 'mv':\r\n            type = 1;\r\n            break;\r\n          case 'video':\r\n            type = 5;\r\n            break;\r\n        }\r\n        const res = await this.get('/comment/like', {\r\n          id: this.commentId,\r\n          cid,\r\n          t: flag ? 0 : 1,\r\n          type,\r\n          timestamp,\r\n        });\r\n        if (res.code === 200) {\r\n          this.$emit('getComment');\r\n        } else {\r\n          this.$message.error('点赞失败,请稍后重试!');\r\n        }\r\n      },\r\n      // 跳转用户页面\r\n      goToPersonal(userId) {\r\n        this.$router.push({\r\n          name: 'personal',\r\n          params: { uid: userId },\r\n        });\r\n        if (this.commentType === 'music') {\r\n          // this.$emit(\"closeMuiscDetailCard\");\r\n          this.changeMusicDetailCardState(false);\r\n        }\r\n      },\r\n    },\r\n    filters: {\r\n      showDate(value) {\r\n        // 1、先将时间戳转成Date对象\r\n        const date = new Date(value);\r\n\r\n        // 2、将date进行格式化\r\n        return formatDate(date, 'yyyy-MM-dd');\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .hotComments {\r\n    .commentHeader {\r\n      font-size: 18px;\r\n      color: rgb(26, 26, 26);\r\n      font-weight: 600;\r\n      padding: 10px 0;\r\n    }\r\n    .commentItem {\r\n      display: flex;\r\n      margin: 5px 0;\r\n      padding: 10px 0 20px;\r\n      border-bottom: 1px solid #eee;\r\n      font-size: 16px;\r\n      .commentCreatorAvatar {\r\n        width: 35px;\r\n        height: 35px;\r\n        margin: 0px 10px 0 0;\r\n        & img {\r\n          width: 100%;\r\n          border-radius: 50%;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n      .commentMain {\r\n        .likeCurrentComment,\r\n        .likeCurrentComment i {\r\n          color: #ec4141 !important;\r\n        }\r\n        width: calc(100% - 50px);\r\n        .commentUserNickName {\r\n          color: #5a8ab9;\r\n          cursor: pointer;\r\n        }\r\n        .commentBottom {\r\n          margin-top: 2px;\r\n          color: rgb(172, 172, 172);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n        }\r\n\r\n        .commentButtons {\r\n          display: flex;\r\n          align-items: center;\r\n        }\r\n        .commentButtons div {\r\n          margin-top: -3px;\r\n          padding: 0 8px;\r\n          transform: scale(0.85);\r\n        }\r\n\r\n        .commentButtons div:nth-child(1) {\r\n          font-size: 16px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comment.vue?vue&type=template&id=65bbec1a&scoped=true&\"\nimport script from \"./Comment.vue?vue&type=script&lang=js&\"\nexport * from \"./Comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comment.vue?vue&type=style&index=0&id=65bbec1a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65bbec1a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoDetail.vue?vue&type=style&index=0&id=d558a9ca&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.videoUrl)?_c('div',{staticClass:\"videoDetail\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$route.params.type == 'mv' ? 'MV详情' : '视频详情')+\" \")]),_c('video',{staticClass:\"videoPlayer\",attrs:{\"src\":_vm.videoUrl,\"controls\":\"\",\"width\":\"496px\",\"height\":\"284px\",\"poster\":_vm.$route.params.type == 'mv' ? _vm.videoInfo.cover : _vm.videoInfo.coverUrl},on:{\"play\":_vm.playVideo}}),(_vm.$route.params.type == 'mv' ? _vm.videoInfo.cover : _vm.videoInfo.coverUrl)?_c('div',{staticClass:\"videoInfo\"},[_c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":(_vm.$route.params.type == 'mv' ? _vm.videoInfo.artists[0].img1v1Url : _vm.videoInfo.avatarUrl) + '?param=100y100',\"alt\":\"\"},on:{\"click\":function($event){return _vm.goToPersonal()}}})]),_c('div',{staticClass:\"userName\",on:{\"click\":function($event){return _vm.goToPersonal()}}},[_vm._v(\" \"+_vm._s(_vm.$route.params.type == 'mv' ? _vm.videoInfo.artists[0].name : _vm.videoInfo.creator.nickname)+\" \")])]),_c('div',{staticClass:\"videoTitle\"},[_vm._v(\" \"+_vm._s(_vm.$route.params.type == 'mv' ? _vm.videoInfo.name : _vm.videoInfo.title)+\" \")]),_c('div',{staticClass:\"otherInfo\"},[_c('div',[_vm._v(\"发布：\"+_vm._s(_vm._f(\"showDate\")(_vm.$route.params.type == 'mv' ? _vm.videoInfo.publishTime : _vm.videoInfo.publishTime)))]),_c('div',[_vm._v(\"播放：\"+_vm._s(_vm._f(\"handleNum\")((_vm.$route.params.type == 'mv' ? _vm.videoInfo.playCount : _vm.videoInfo.playTime))))])]),_c('div',{staticClass:\"buttons\"},[_c('div',{staticClass:\"buttonItem\",on:{\"click\":_vm.likeVideo}},[_c('i',{staticClass:\"iconfont icon-good\",class:_vm.isLike ? 'red' : ''}),_vm._v(_vm._s(_vm.isLike ? '已赞' : '赞'))]),_c('div',{staticClass:\"buttonItem\",on:{\"click\":_vm.subVideo}},[_c('i',{staticClass:\"iconfont icon-xihuan\",class:_vm.isSub ? 'red' : ''}),_vm._v(_vm._s(_vm.isSub ? '已收藏' : '收藏'))]),_vm._m(0)])]):_vm._e(),_c('div',{staticClass:\"comment\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isCommentLoading),expression:\"isCommentLoading\"}],staticClass:\"commentList\"},[_c('comment',{attrs:{\"comments\":_vm.comments.comments,\"commentType\":'musicList',\"commentId\":_vm.$route.params.id + '',\"isHotComment\":_vm.comments.hotComments ? false : true},on:{\"getComment\":function($event){_vm.$route.params.type == 'mv' ? _vm.getMvComment() : _vm.getVideoComment()}}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"最新评论\")])])],1),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.comments.total,\"small\":\"\",\"page-size\":20,\"current-page\":_vm.commentsPage},on:{\"current-change\":_vm.commentPageChange}})],1)])]),(_vm.relatedVideo.length != 0)?_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"相关推荐\")]),_vm._l((_vm.relatedVideo),function(item,index){return _c('div',{key:index,staticClass:\"relatedVideoItem\",on:{\"click\":function($event){return _vm.goToRelatedVideo(item.vid)}}},[_c('div',{staticClass:\"relatedVideoItemCover\"},[_c('img',{attrs:{\"src\":item.coverUrl + '?param=300y180',\"alt\":\"\"}}),_c('div',{staticClass:\"relatedVideoItemPlayCount\"},[_c('i',{staticClass:\"iconfont icon-shipin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"handleNum\")(item.playTime)))]),_c('div',{staticClass:\"relatedVideoItemTime\"},[_vm._v(\" \"+_vm._s(_vm._f(\"handleMusicTime\")(item.durationms))+\" \")])]),_c('div',{staticClass:\"relatedVideoItemInfo\"},[_c('div',{staticClass:\"relatedVideoItemTitle\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"creator\"},[_vm._v(\"by \"+_vm._s(item.creator[0].userName))])])])})],2):_vm._e()]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buttonItem\"},[_c('i',{staticClass:\"iconfont icon-zhuanfa\"}),_vm._v(\"分享\")])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"videoDetail\" v-if=\"videoUrl\">\r\n    <div class=\"left\">\r\n      <div class=\"title\">\r\n        {{ $route.params.type == 'mv' ? 'MV详情' : '视频详情' }}\r\n      </div>\r\n      <video\r\n        class=\"videoPlayer\"\r\n        :src=\"videoUrl\"\r\n        controls\r\n        width=\"496px\"\r\n        height=\"284px\"\r\n        @play=\"playVideo\"\r\n        :poster=\"$route.params.type == 'mv' ? videoInfo.cover : videoInfo.coverUrl\"\r\n      ></video>\r\n      <!-- 视频详情信息 -->\r\n      <div class=\"videoInfo\" v-if=\"$route.params.type == 'mv' ? videoInfo.cover : videoInfo.coverUrl\">\r\n        <div class=\"user\">\r\n          <div class=\"avatar\">\r\n            <img @click=\"goToPersonal()\" :src=\"($route.params.type == 'mv' ? videoInfo.artists[0].img1v1Url : videoInfo.avatarUrl) + '?param=100y100'\" alt=\"\" />\r\n          </div>\r\n          <div class=\"userName\" @click=\"goToPersonal()\">\r\n            {{ $route.params.type == 'mv' ? videoInfo.artists[0].name : videoInfo.creator.nickname }}\r\n          </div>\r\n        </div>\r\n        <div class=\"videoTitle\">\r\n          {{ $route.params.type == 'mv' ? videoInfo.name : videoInfo.title }}\r\n        </div>\r\n        <div class=\"otherInfo\">\r\n          <div>发布：{{ $route.params.type == 'mv' ? videoInfo.publishTime : videoInfo.publishTime | showDate }}</div>\r\n          <div>播放：{{ ($route.params.type == 'mv' ? videoInfo.playCount : videoInfo.playTime) | handleNum }}</div>\r\n        </div>\r\n        <div class=\"buttons\">\r\n          <div class=\"buttonItem\" @click=\"likeVideo\"><i class=\"iconfont icon-good\" :class=\"isLike ? 'red' : ''\"></i>{{ isLike ? '已赞' : '赞' }}</div>\r\n          <div class=\"buttonItem\" @click=\"subVideo\"><i class=\"iconfont icon-xihuan\" :class=\"isSub ? 'red' : ''\"></i>{{ isSub ? '已收藏' : '收藏' }}</div>\r\n          <div class=\"buttonItem\"><i class=\"iconfont icon-zhuanfa\"></i>分享</div>\r\n        </div>\r\n      </div>\r\n      <!-- 视频评论 -->\r\n      <div class=\"comment\">\r\n        <div class=\"commentList\" v-loading=\"isCommentLoading\">\r\n          <!-- 精彩评论 -->\r\n          <comment\r\n            :comments=\"comments.comments\"\r\n            :commentType=\"'musicList'\"\r\n            :commentId=\"$route.params.id + ''\"\r\n            :isHotComment=\"comments.hotComments ? false : true\"\r\n            @getComment=\"$route.params.type == 'mv' ? getMvComment() : getVideoComment()\"\r\n            ><div slot=\"title\">最新评论</div>\r\n          </comment>\r\n        </div>\r\n        <!-- 分页 -->\r\n        <div class=\"page\">\r\n          <el-pagination\r\n            background\r\n            layout=\"prev, pager, next\"\r\n            :total=\"comments.total\"\r\n            small\r\n            :page-size=\"20\"\r\n            :current-page=\"commentsPage\"\r\n            @current-change=\"commentPageChange\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 相关推荐 -->\r\n    <div class=\"right\" v-if=\"relatedVideo.length != 0\">\r\n      <div class=\"title\">相关推荐</div>\r\n      <div class=\"relatedVideoItem\" v-for=\"(item, index) in relatedVideo\" :key=\"index\" @click=\"goToRelatedVideo(item.vid)\">\r\n        <div class=\"relatedVideoItemCover\">\r\n          <img :src=\"item.coverUrl + '?param=300y180'\" alt=\"\" />\r\n          <div class=\"relatedVideoItemPlayCount\"><i class=\"iconfont icon-shipin\"></i> {{ item.playTime | handleNum }}</div>\r\n          <div class=\"relatedVideoItemTime\">\r\n            {{ item.durationms | handleMusicTime }}\r\n          </div>\r\n        </div>\r\n        <div class=\"relatedVideoItemInfo\">\r\n          <div class=\"relatedVideoItemTitle\">{{ item.title }}</div>\r\n          <div class=\"creator\">by {{ item.creator[0].userName }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { handleNum, handleMusicTime, formatDate } from 'plugins/utils.js';\r\n  import Comment from '@/components/Comment/Comment.vue';\r\n  import { mapState, mapMutations } from 'vuex';\r\n\r\n  export default {\r\n    components: { Comment },\r\n    name: 'VideoDetail',\r\n    data() {\r\n      return {\r\n        videoInfo: {},\r\n        videoUrl: '',\r\n        // 相关视频数据\r\n        relatedVideo: [],\r\n        comments: {},\r\n        // 评论页数\r\n        commentsPage: 1,\r\n        // 用户是否收藏该视频\r\n        isSub: false,\r\n        // 是否正在加载评论\r\n        isCommentLoading: false,\r\n        // 用户是否喜欢该视频\r\n        isLike: false,\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState(['likeVideoList', 'subVideoList']),\r\n    },\r\n    methods: {\r\n      ...mapMutations(['updateSubVideoList', 'updateLikeVideoList', 'changePlayState']),\r\n      // 根据传来的id查询mv详情\r\n      async getMvDetail() {\r\n        const res = await this.get('/mv/detail', {\r\n          mvid: this.$route.params.id,\r\n        });\r\n        this.videoInfo = res.data;\r\n      },\r\n      // 请求mv地址\r\n      async getMvUrl() {\r\n        const res = await this.get('/mv/url', { id: this.$route.params.id });\r\n        this.videoUrl = res.data.url;\r\n      },\r\n      // 请求相关视频\r\n      async getRelatedVideo() {\r\n        const res = await this.get('/related/allvideo', {\r\n          id: this.$route.params.id,\r\n        });\r\n        this.relatedVideo = res.data;\r\n      },\r\n      // 请求mv评论数据\r\n      async getMvComment(type) {\r\n        // 获取时间戳\r\n        const timestamp = Date.parse(new Date());\r\n        this.isCommentLoading = true;\r\n        if (type === 'changePage') {\r\n          this.scrollToComment();\r\n        }\r\n        const res = await this.get('/comment/mv', {\r\n          id: this.$route.params.id,\r\n          offset: 20 * (this.commentsPage - 1),\r\n          timestamp,\r\n        });\r\n\r\n        this.comments = res;\r\n        this.isCommentLoading = false;\r\n      },\r\n      // 滚动到输入框\r\n      scrollToComment() {\r\n        const videoDetail = document.querySelector('.videoDetail');\r\n        const commentTitle = document.querySelector('.commentTitle');\r\n        videoDetail.scrollTo({\r\n          behavior: 'smooth',\r\n          top: commentTitle.offsetTop - 70,\r\n        });\r\n      },\r\n\r\n      // 请求视频详情\r\n      async getVideoDetail() {\r\n        const res = await this.get('/video/detail', {\r\n          id: this.$route.params.id,\r\n        });\r\n        this.videoInfo = res.data;\r\n      },\r\n      // 获取视频播放地址\r\n      async getVideoUrl() {\r\n        const res = await this.get('/video/url', {\r\n          id: this.$route.params.id,\r\n        });\r\n        this.videoUrl = res.urls[0].url;\r\n      },\r\n      // 获取视频评论\r\n      async getVideoComment(type) {\r\n        const timestamp = Date.parse(new Date());\r\n        this.isCommentLoading = true;\r\n        if (type === 'changePage') {\r\n          const videoDetail = document.querySelector('.videoDetail');\r\n          const commentTitle = document.querySelector('.commentTitle');\r\n          videoDetail.scrollTo({\r\n            behavior: 'smooth',\r\n            top: commentTitle.offsetTop - 70,\r\n          });\r\n        }\r\n        const res = await this.get('/comment/video', {\r\n          id: this.$route.params.id,\r\n          offset: 20 * (this.commentsPage - 1),\r\n          timestamp,\r\n        });\r\n\r\n        this.isCommentLoading = false;\r\n        this.comments = res;\r\n      },\r\n      // 请求用户收藏的视频列表\r\n      async getSubVideoList() {\r\n        const timestamp = Date.parse(new Date());\r\n        const res = await this.get('/mv/sublist', { limit: 1000, timestamp });\r\n        this.updateSubVideoList(res.data);\r\n      },\r\n      // 请求用户喜欢的视频列表\r\n      async getLikeVideoList() {\r\n        const timestamp = Date.parse(new Date());\r\n        const res = await this.get('/playlist/mylike', {\r\n          limit: 1000,\r\n          timestamp,\r\n        });\r\n        this.updateLikeVideoList(res.data.feeds);\r\n      },\r\n      // 评论点击翻页的回调\r\n      commentPageChange(page) {\r\n        this.commentsPage = page;\r\n        if (this.$route.params.type === 'mv') {\r\n          this.getMvComment('changePage');\r\n        } else if (this.$route.params.type === 'video') {\r\n          this.getVideoComment('changePage');\r\n        }\r\n      },\r\n      // 点击推荐视频的回调\r\n      goToRelatedVideo(id) {\r\n        this.$router.push({ name: 'videoDetail', params: { id, type: 'video' } });\r\n      },\r\n      // 监听vidoe播放的事件\r\n      playVideo() {\r\n        this.changePlayState(false);\r\n      },\r\n      // 判断用户是否收藏了该视频\r\n      getIsSub() {\r\n        this.isSub = this.subVideoList.find(item => item.vid === this.$route.params.id);\r\n      },\r\n\r\n      // 判断用户是否喜欢了该视频\r\n      getIsLike() {\r\n        if (this.$route.params.type === 'mv') {\r\n          this.isLike = this.likeVideoList.find(item => item.mlogBaseData.id === this.$route.params.id);\r\n        } else {\r\n          // 因为请求的喜欢列表中的视频id是mlogid 要获取vid还需要另外单独请求  这里我直接对比标题和时长 若都对的上则认定为是同一个视频\r\n          this.isLike = this.likeVideoList.find(\r\n            item => item.mlogBaseData.desc === this.videoInfo.description && item.mlogBaseData.dration === this.videoInfo.durationms\r\n          );\r\n        }\r\n      },\r\n\r\n      // 用户点击了收藏按钮的回调\r\n      async subVideo() {\r\n        this.isSub = !this.isSub;\r\n        const timestamp = Date.parse(new Date());\r\n\r\n        // 请求\r\n        if (this.$route.params.type === 'video') {\r\n          await this.get('/video/sub', {\r\n            id: this.$route.params.id,\r\n            t: this.isSub ? 1 : 0,\r\n          });\r\n        } else {\r\n          await this.get('/mv/sub', {\r\n            mvid: this.$route.params.id,\r\n            t: this.isSub ? 1 : 0,\r\n            timestamp,\r\n          });\r\n        }\r\n        this.getSubVideoList();\r\n      },\r\n      // 用户点击了点赞按钮的回调\r\n      async likeVideo() {\r\n        this.isLike = !this.isLike;\r\n        const timestamp = Date.parse(new Date());\r\n        const type = this.$route.params.type === 'mv' ? 1 : 5;\r\n        // 请求\r\n        const res = await this.$get('/resource/like', {\r\n          type,\r\n          id: this.$route.params.id,\r\n          t: this.isLike ? 1 : 0,\r\n          timestamp,\r\n        });\r\n        this.getLikeVideoList();\r\n      },\r\n\r\n      // 点击跳转至personal页面的回调\r\n      goToPersonal() {\r\n        const uid = this.$route.params.type === 'mv' ? this.videoInfo.artists[0].id : this.videoInfo.creator.userId;\r\n        if (this.$route.params.type === 'mv') {\r\n          this.$router.push({ name: 'singerDetail', params: { id: uid } });\r\n        } else {\r\n          this.$router.push({ name: 'personal', params: { uid } });\r\n        }\r\n      },\r\n    },\r\n    async created() {\r\n      this.getRelatedVideo();\r\n      if (this.$route.params.type === 'mv') {\r\n        await this.getMvDetail();\r\n        this.getMvUrl();\r\n        this.getMvComment();\r\n      } else if (this.$route.params.type === 'video') {\r\n        await this.getVideoDetail();\r\n        this.getVideoUrl();\r\n        this.getVideoComment();\r\n      }\r\n\r\n      if (this.subVideoList === null) {\r\n        await this.getSubVideoList();\r\n      }\r\n      this.getIsSub();\r\n      if (this.likeVideoList === null) {\r\n        await this.getLikeVideoList();\r\n      }\r\n      this.getIsLike();\r\n    },\r\n    filters: {\r\n      handleNum,\r\n      handleMusicTime,\r\n      showDate(value) {\r\n        // 1、先将时间戳转成Date对象\r\n        const date = new Date(value);\r\n\r\n        // 2、将date进行格式化\r\n        return formatDate(date, 'yyyy-MM-dd');\r\n      },\r\n    },\r\n    watch: {},\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .videoDetail {\r\n    display: flex;\r\n    justify-content: center;\r\n    height: calc(95vh - 105px);\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  .left {\r\n    width: 500px;\r\n  }\r\n\r\n  .right {\r\n    margin-left: 20px;\r\n  }\r\n\r\n  .title {\r\n    margin: 10px 0;\r\n    color: black;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .relatedVideoItem {\r\n    display: flex;\r\n    margin-bottom: 5px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .relatedVideoItemCover {\r\n    position: relative;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .relatedVideoItemCover img {\r\n    width: 150px;\r\n    height: 90px;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  .relatedVideoItemPlayCount {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 5px;\r\n    font-size: 12px;\r\n    color: white;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .relatedVideoItemTime {\r\n    position: absolute;\r\n    bottom: 5px;\r\n    right: 5px;\r\n    font-size: 12px;\r\n    color: white;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .relatedVideoItemInfo {\r\n    font-size: 12px;\r\n    color: rgb(31, 30, 30);\r\n    margin: 12px 0;\r\n    width: 140px;\r\n  }\r\n\r\n  .relatedVideoItemTitle {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n  }\r\n\r\n  .creator {\r\n    color: rgb(156, 156, 156);\r\n    margin-top: 15px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    transform: scale(0.9) translateX(-5%);\r\n  }\r\n\r\n  .user {\r\n    display: flex;\r\n    margin: 10px 0;\r\n    align-items: center;\r\n  }\r\n\r\n  .avatar {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n\r\n  .avatar img {\r\n    width: 100%;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .userName {\r\n    font-size: 12px;\r\n    margin-left: 10px;\r\n    color: rgb(36, 36, 36);\r\n    cursor: pointer;\r\n  }\r\n\r\n  .videoTitle {\r\n    color: #1b1b1b;\r\n    font-size: 20px;\r\n    margin: 20px 0 10px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .otherInfo {\r\n    display: flex;\r\n    color: #aaa;\r\n    font-size: 12px;\r\n  }\r\n\r\n  .otherInfo div {\r\n    margin-right: 20px;\r\n    transform: scale(0.9) translateX(-5%);\r\n  }\r\n\r\n  .buttons {\r\n    display: flex;\r\n    font-size: 12px;\r\n    margin: 20px 0;\r\n    color: #252525;\r\n  }\r\n\r\n  .buttonItem {\r\n    padding: 5px 20px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 20px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .buttonItem i {\r\n    font-size: 12px;\r\n    margin-right: 3px;\r\n  }\r\n\r\n  .page {\r\n    width: 100%;\r\n    text-align: center;\r\n    padding-bottom: 20px;\r\n  }\r\n\r\n  .videoPlayer {\r\n    background-color: black;\r\n  }\r\n\r\n  .red {\r\n    color: #ec4141;\r\n  }\r\n\r\n  .videoDetail /deep/ .el-loading-spinner {\r\n    top: 40px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoDetail.vue?vue&type=template&id=d558a9ca&scoped=true&\"\nimport script from \"./VideoDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoDetail.vue?vue&type=style&index=0&id=d558a9ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d558a9ca\",\n  null\n  \n)\n\nexport default component.exports","// 格式化时间\r\n// eslint-disable-next-line func-style\r\nexport function formatDate(date, fmt) {\r\n  // 1.获取年份\r\n  // y+ 1个或者多个y  yyyy:2021\r\n  // y* 0个或者多个y\r\n  // y? 0个或者1个y\r\n  if (/(y+)/.test(fmt)) {\r\n    // RegExp.$1 指的是与正则表达式匹配的第一个子匹配\r\n    fmt = fmt.replace(RegExp.$1, `${date.getFullYear()}`.substr(4 - RegExp.$1.length));\r\n  }\r\n\r\n  // 2.获取月日等\r\n  const o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds(),\r\n  };\r\n  for (const k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      const str = `${o[k]}`;\r\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\r\n    }\r\n  }\r\n  return fmt;\r\n}\r\n\r\n// 不足两位补足两位 04:05:09\r\n// eslint-disable-next-line func-style\r\nfunction padLeftZero(str) {\r\n  // str=4 -> 004 截取 1 位 -> 04\r\n  return `00${str}`.substr(str.length);\r\n}\r\n\r\n// 处理大于1w的数字\r\n// eslint-disable-next-line func-style\r\nexport function handleNum(num) {\r\n  if (num > 10000) {\r\n    num = (num / 10000).toFixed(1);\r\n    return `${num}万`;\r\n  }\r\n  return num;\r\n}\r\n\r\n// 处理音乐时长的时间\r\n// eslint-disable-next-line func-style\r\nexport function handleMusicTime(time) {\r\n  // 如果超过了100000 基本都是毫秒为单位的了 先转成秒的\r\n  time = parseInt(time);\r\n  if (time > 10000) {\r\n    time = Math.floor(time / 1000);\r\n  } else {\r\n    time = Math.floor(time);\r\n  }\r\n  let m = Math.floor(time / 60);\r\n  let s = Math.floor(time % 60);\r\n  m = m < 10 ? `0${m}` : m;\r\n  s = s < 10 ? `0${s}` : s;\r\n  return `${m}:${s}`;\r\n}\r\n\r\n// 将播放时长还原为秒数\r\n// eslint-disable-next-line func-style\r\nexport function returnSecond(time) {\r\n  time = time.split(':');\r\n  const m = parseInt(time[0]);\r\n  const s = parseInt(time[1]);\r\n  return m * 60 + s;\r\n}\r\n"],"sourceRoot":""}