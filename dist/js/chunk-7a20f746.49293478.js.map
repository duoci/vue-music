{"version":3,"sources":["webpack:///./src/views/video/videoChildren/VideoList.vue?9950","webpack:///./src/components/videoListCard/VideoListCard.vue?0e7f","webpack:///./src/components/musicListNavBar/index.vue?9e5f","webpack:///src/components/musicListNavBar/index.vue","webpack:///./src/components/musicListNavBar/index.vue?46ec","webpack:///./src/components/musicListNavBar/index.vue","webpack:///./src/components/musicListNavBar/index.vue?9a7a","webpack:///./src/components/videoListCard/VideoListCard.vue?460a","webpack:///src/components/videoListCard/VideoListCard.vue","webpack:///./src/components/videoListCard/VideoListCard.vue?bcef","webpack:///./src/components/videoListCard/VideoListCard.vue","webpack:///./src/plugins/utils.js","webpack:///./src/views/video/videoChildren/VideoList.vue?2eb5","webpack:///src/views/video/videoChildren/VideoList.vue","webpack:///./src/views/video/videoChildren/VideoList.vue?fa1a","webpack:///./src/views/video/videoChildren/VideoList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","showSortPop","model","value","callback","$$v","isSortPopShow","expression","slot","_v","_s","currentTag","name","sortList","length","_l","item","index","key","class","$event","clickItem","activeNum","clickNavItem","staticRenderFns","component","videoType","directives","rawName","disabled","clickListCardItem","id","type","imgurl","cover","_f","playCount","duration","_e","artistName","vid","data","coverUrl","playTime","durationms","title","formatDate","date","fmt","test","replace","RegExp","$1","getFullYear","substr","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","handleNum","num","toFixed","handleMusicTime","time","parseInt","Math","floor","m","s","returnSecond","split","videoCategory","getSortList","clickSortBoxItem","clickSecondBarItem","videoList","goToVideoDetail","bottomLoad"],"mappings":"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","file":"js/chunk-7a20f746.49293478.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoList.vue?vue&type=style&index=0&id=89443bce&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoListCard.vue?vue&type=style&index=0&id=2ef37bc3&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"musiclistnavbar\"},[_c('div',{staticClass:\"left\"},[_c('el-popover',{attrs:{\"placement\":\"bottom-start\",\"width\":\"350\",\"popper-class\":\"sortPop\",\"trigger\":\"click\",\"visible-arrow\":false},on:{\"show\":_vm.showSortPop},model:{value:(_vm.isSortPopShow),callback:function ($$v) {_vm.isSortPopShow=$$v},expression:\"isSortPopShow\"}},[_c('div',{staticClass:\"SortBox\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(_vm._s(_vm.currentTag.name)+\" \"),_c('i',{staticClass:\"iconfont icon-arrow-right-bold\"})]),(_vm.sortList.length == 0)?_c('div',{staticClass:\"tips\"},[_vm._v(\"正在加载分类数据...\")]):_c('div',{staticClass:\"sortList\"},_vm._l((_vm.sortList),function(item,index){return _c('div',{key:index,staticClass:\"sortItme\",class:_vm.currentTag.name == item.name ? 'currentItem' : '',on:{\"click\":function($event){return _vm.clickItem(item)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)])],1),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"navlist\"},_vm._l((_vm.navData),function(item,index){return _c('div',{key:index,staticClass:\"item\",class:_vm.activeNum == index ? 'active' : '',on:{\"click\":function($event){return _vm.clickNavItem(index)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"musiclistnavbar\">\r\n    <div class=\"left\">\r\n      <el-popover\r\n        placement=\"bottom-start\"\r\n        width=\"350\"\r\n        popper-class=\"sortPop\"\r\n        trigger=\"click\"\r\n        :visible-arrow=\"false\"\r\n        v-model=\"isSortPopShow\"\r\n        @show=\"showSortPop\"\r\n      >\r\n        <div class=\"SortBox\" slot=\"reference\">{{ currentTag.name }} <i class=\"iconfont icon-arrow-right-bold\"></i></div>\r\n        <div class=\"tips\" v-if=\"sortList.length == 0\">正在加载分类数据...</div>\r\n        <div class=\"sortList\" v-else>\r\n          <div\r\n            class=\"sortItme\"\r\n            :class=\"currentTag.name == item.name ? 'currentItem' : ''\"\r\n            v-for=\"(item, index) in sortList\"\r\n            :key=\"index\"\r\n            @click=\"clickItem(item)\"\r\n          >\r\n            {{ item.name }}\r\n          </div>\r\n        </div>\r\n      </el-popover>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"navlist\">\r\n        <div class=\"item\" v-for=\"(item, index) in navData\" :key=\"index\" @click=\"clickNavItem(index)\" :class=\"activeNum == index ? 'active' : ''\">\r\n          {{ item.name }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'musiclistnavbar',\r\n    props: {\r\n      sortList: {\r\n        type: Array,\r\n        default() {\r\n          return [];\r\n        },\r\n      },\r\n      currentTag: {\r\n        type: Object,\r\n        default() {\r\n          return {};\r\n        },\r\n      },\r\n      navData: {\r\n        type: Array,\r\n        default() {\r\n          return [];\r\n        },\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        isSortPopShow: false,\r\n        activeNum: 0,\r\n      };\r\n    },\r\n    methods: {\r\n      showSortPop() {\r\n        // 判断是否有sortList数据\r\n        if (this.sortList.length === 0) {\r\n          this.$emit('getSortList');\r\n        }\r\n      },\r\n      // 点击分类item的回调\r\n      clickItem(item) {\r\n        this.$emit('clickSortBoxItem', item);\r\n        this.isSortPopShow = false;\r\n      },\r\n      clickNavItem(index) {\r\n        if (this.activeNum === index) {\r\n          return;\r\n        }\r\n        this.activeNum = index;\r\n        this.$emit('clickSecondBarItem', index);\r\n      },\r\n    },\r\n    watch: {\r\n      currentTag(current) {\r\n        this.activeNum = this.navData.findIndex(item => {\r\n          return item.name === current.name;\r\n        });\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .musiclistnavbar {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .left {\r\n      .SortBox {\r\n        width: 105px;\r\n        padding: 5px 10px;\r\n        border: 1px solid #ddd;\r\n        border-radius: 20px;\r\n        cursor: pointer;\r\n        transform: scale(0.9);\r\n        text-align: center;\r\n        font-size: 15px;\r\n        i {\r\n          font-size: 14px;\r\n        }\r\n      }\r\n      .sortList {\r\n        display: flex;\r\n      }\r\n    }\r\n    .right {\r\n      .navlist {\r\n        display: flex;\r\n        align-items: center;\r\n        line-height: 33px;\r\n        .item {\r\n          font-size: 14px;\r\n          padding: 0 10px;\r\n          cursor: pointer;\r\n          &.active {\r\n            background-color: #fdf5f5;\r\n            color: #ec4747;\r\n            border-radius: 11px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=56e7d8c0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=56e7d8c0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56e7d8c0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=56e7d8c0&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.videoType == 'singerMv' || _vm.videoType == 'mv')?_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"videoListCard\",attrs:{\"infinite-scroll-disabled\":_vm.disabled,\"infinite-scroll-distance\":300,\"infinite-scroll-immediate\":false}},_vm._l((_vm.videoList),function(item,index){return _c('div',{key:index,staticClass:\"cardItem\",on:{\"click\":function($event){return _vm.clickListCardItem(item.id, index, item.type)}}},[_c('div',{staticClass:\"videoCover\"},[_c('img',{attrs:{\"src\":(_vm.videoType == 'singerMv' ? item.imgurl : item.cover) + '?param=680y400',\"alt\":\"\"}}),_c('div',{staticClass:\"playCount\"},[_c('i',{staticClass:\"iconfont icon-shipin\"}),_vm._v(_vm._s(_vm._f(\"handleNum\")(item.playCount)))]),(_vm.videoType == 'singerMv')?_c('div',{staticClass:\"videoTime\"},[_vm._v(\" \"+_vm._s(_vm._f(\"handleMusicTime\")(item.duration))+\" \")]):_vm._e()]),_c('div',{staticClass:\"videoTitle\"},[_vm._v(_vm._s(item.name))]),(_vm.videoType == 'mv')?_c('div',{staticClass:\"singer\"},[_vm._v(_vm._s(item.artistName))]):_vm._e()])}),0):(_vm.videoType == 'video')?_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"videoListCard\",attrs:{\"infinite-scroll-disabled\":_vm.disabled,\"infinite-scroll-distance\":300,\"infinite-scroll-immediate\":false}},_vm._l((_vm.videoList),function(item,index){return _c('div',{key:index,staticClass:\"cardItem\",on:{\"click\":function($event){return _vm.clickListCardItem(item.vid || item.data.vid, index, item.type)}}},[_c('div',{staticClass:\"videoCover\"},[_c('img',{attrs:{\"src\":(item.coverUrl || item.data.coverUrl) + '?param=1260y800',\"alt\":\"\"}}),_c('div',{staticClass:\"playCount\"},[_c('i',{staticClass:\"iconfont icon-shipin\"}),_vm._v(_vm._s(_vm._f(\"handleNum\")((item.playTime || item.data.playTime))))]),_c('div',{staticClass:\"videoTime\"},[_vm._v(\" \"+_vm._s(_vm._f(\"handleMusicTime\")((item.durationms || item.data.durationms)))+\" \")])]),_c('div',{staticClass:\"videoTitle\"},[_vm._v(_vm._s(item.title || item.data.title))])])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div\r\n      class=\"videoListCard\"\r\n      v-infinite-scroll=\"load\"\r\n      :infinite-scroll-disabled=\"disabled\"\r\n      :infinite-scroll-distance=\"300\"\r\n      :infinite-scroll-immediate=\"false\"\r\n      v-if=\"videoType == 'singerMv' || videoType == 'mv'\"\r\n    >\r\n      <div class=\"cardItem\" v-for=\"(item, index) in videoList\" :key=\"index\" @click=\"clickListCardItem(item.id, index, item.type)\">\r\n        <div class=\"videoCover\">\r\n          <img :src=\"(videoType == 'singerMv' ? item.imgurl : item.cover) + '?param=680y400'\" alt=\"\" />\r\n          <div class=\"playCount\"><i class=\"iconfont icon-shipin\"></i>{{ item.playCount | handleNum }}</div>\r\n          <div class=\"videoTime\" v-if=\"videoType == 'singerMv'\">\r\n            {{ item.duration | handleMusicTime }}\r\n          </div>\r\n        </div>\r\n        <div class=\"videoTitle\">{{ item.name }}</div>\r\n        <div class=\"singer\" v-if=\"videoType == 'mv'\">{{ item.artistName }}</div>\r\n      </div>\r\n    </div>\r\n    <!-- video -->\r\n    <div\r\n      class=\"videoListCard\"\r\n      v-infinite-scroll=\"load\"\r\n      :infinite-scroll-disabled=\"disabled\"\r\n      :infinite-scroll-distance=\"300\"\r\n      :infinite-scroll-immediate=\"false\"\r\n      v-else-if=\"videoType == 'video'\"\r\n    >\r\n      <div class=\"cardItem\" v-for=\"(item, index) in videoList\" :key=\"index\" @click=\"clickListCardItem(item.vid || item.data.vid, index, item.type)\">\r\n        <div class=\"videoCover\">\r\n          <img :src=\"(item.coverUrl || item.data.coverUrl) + '?param=1260y800'\" alt=\"\" />\r\n          <div class=\"playCount\"><i class=\"iconfont icon-shipin\"></i>{{ (item.playTime || item.data.playTime) | handleNum }}</div>\r\n          <div class=\"videoTime\">\r\n            {{ (item.durationms || item.data.durationms) | handleMusicTime }}\r\n          </div>\r\n        </div>\r\n        <div class=\"videoTitle\">{{ item.title || item.data.title }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { handleMusicTime, handleNum } from 'plugins/utils.js';\r\n\r\n  export default {\r\n    name: 'VideoListCard',\r\n    data() {\r\n      return {\r\n        // 无限滚动是否可用\r\n        disabled: true,\r\n      };\r\n    },\r\n    props: {\r\n      videoList: {\r\n        type: Array,\r\n        default() {\r\n          return [];\r\n        },\r\n      },\r\n      // 是否触底加载\r\n      isLoad: {\r\n        type: Boolean,\r\n        default() {\r\n          return false;\r\n        },\r\n      },\r\n      videoType: {\r\n        type: String,\r\n        default() {\r\n          return 'singerMv';\r\n        },\r\n      },\r\n    },\r\n    methods: {\r\n      clickListCardItem(id, index, type) {\r\n        this.$emit('clickListCardItem', { id, index, type });\r\n      },\r\n      // 上拉触底触发\r\n      load() {\r\n        this.$emit('bottomLoad');\r\n        // 触发load后加载数据 期间不允许再次触发load事件\r\n        this.disabled = true;\r\n      },\r\n    },\r\n    filters: {\r\n      handleMusicTime,\r\n      handleNum,\r\n    },\r\n    watch: {\r\n      //   数据更新后，再次运行触发load事件\r\n      videoList() {\r\n        if (this.isLoad === true) {\r\n          if (this.videoList.length !== 0) {\r\n            this.disabled = false;\r\n          } else {\r\n            this.disabled = true;\r\n          }\r\n        }\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .videoListCard {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    padding: 0;\r\n    justify-content: center;\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .cardItem {\r\n    max-width: 228px;\r\n    /* width: 18.3vw; */\r\n    width: 14.64vw;\r\n    margin-right: 1%;\r\n    margin-left: 1%;\r\n    margin-bottom: 20px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  /* .cardItem:nth-child(4n) {\r\n  margin: 0;\r\n} */\r\n\r\n  .videoCover {\r\n    position: relative;\r\n    /* height: 11.6vw; */\r\n    height: 9.28vw;\r\n    width: 100%;\r\n    max-height: 144px;\r\n    overflow: hidden;\r\n    border-radius: 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: black;\r\n  }\r\n\r\n  .videoCover img {\r\n    width: 18.3vw;\r\n  }\r\n\r\n  .playCount {\r\n    font-size: 12px;\r\n    color: white;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 5px;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .videoTime {\r\n    font-size: 12px;\r\n    color: white;\r\n    position: absolute;\r\n    bottom: 5px;\r\n    transform: scale(0.9);\r\n    right: 5px;\r\n  }\r\n\r\n  .videoTitle {\r\n    margin-top: 8px;\r\n    font-size: 12px;\r\n    line-height: 16px;\r\n    color: rgb(32, 32, 32);\r\n    word-break: break-all;\r\n    /* 两行溢出 */\r\n    text-overflow: -o-ellipsis-lastline;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 2;\r\n    line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n  }\r\n\r\n  .singer {\r\n    font-size: 12px;\r\n    transform: scale(0.9) translateX(-5%);\r\n    margin: 1px 0 0 -1px;\r\n    padding: 0;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoListCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoListCard.vue?vue&type=template&id=2ef37bc3&scoped=true&\"\nimport script from \"./VideoListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoListCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoListCard.vue?vue&type=style&index=0&id=2ef37bc3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ef37bc3\",\n  null\n  \n)\n\nexport default component.exports","// 格式化时间\r\n// eslint-disable-next-line func-style\r\nexport function formatDate(date, fmt) {\r\n  // 1.获取年份\r\n  // y+ 1个或者多个y  yyyy:2021\r\n  // y* 0个或者多个y\r\n  // y? 0个或者1个y\r\n  if (/(y+)/.test(fmt)) {\r\n    // RegExp.$1 指的是与正则表达式匹配的第一个子匹配\r\n    fmt = fmt.replace(RegExp.$1, `${date.getFullYear()}`.substr(4 - RegExp.$1.length));\r\n  }\r\n\r\n  // 2.获取月日等\r\n  const o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds(),\r\n  };\r\n  for (const k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      const str = `${o[k]}`;\r\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\r\n    }\r\n  }\r\n  return fmt;\r\n}\r\n\r\n// 不足两位补足两位 04:05:09\r\n// eslint-disable-next-line func-style\r\nfunction padLeftZero(str) {\r\n  // str=4 -> 004 截取 1 位 -> 04\r\n  return `00${str}`.substr(str.length);\r\n}\r\n\r\n// 处理大于1w的数字\r\n// eslint-disable-next-line func-style\r\nexport function handleNum(num) {\r\n  if (num > 10000) {\r\n    num = (num / 10000).toFixed(1);\r\n    return `${num}万`;\r\n  }\r\n  return num;\r\n}\r\n\r\n// 处理音乐时长的时间\r\n// eslint-disable-next-line func-style\r\nexport function handleMusicTime(time) {\r\n  // 如果超过了100000 基本都是毫秒为单位的了 先转成秒的\r\n  time = parseInt(time);\r\n  if (time > 10000) {\r\n    time = Math.floor(time / 1000);\r\n  } else {\r\n    time = Math.floor(time);\r\n  }\r\n  let m = Math.floor(time / 60);\r\n  let s = Math.floor(time % 60);\r\n  m = m < 10 ? `0${m}` : m;\r\n  s = s < 10 ? `0${s}` : s;\r\n  return `${m}:${s}`;\r\n}\r\n\r\n// 将播放时长还原为秒数\r\n// eslint-disable-next-line func-style\r\nexport function returnSecond(time) {\r\n  time = time.split(':');\r\n  const m = parseInt(time[0]);\r\n  const s = parseInt(time[1]);\r\n  return m * 60 + s;\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"videoList\"},[(_vm.videoCategory.length != 0)?_c('div',{staticClass:\"musicListNavBar\"},[_c('musiclistnavbar',{attrs:{\"currentTag\":_vm.currentTag,\"sortList\":_vm.sortList,\"navData\":_vm.videoCategory},on:{\"getSortList\":_vm.getSortList,\"clickSortBoxItem\":_vm.clickSortBoxItem,\"clickSecondBarItem\":_vm.clickSecondBarItem}})],1):_vm._e(),_c('video-list-card',{staticClass:\"cardList\",attrs:{\"videoList\":_vm.videoList,\"isLoad\":true,\"videoType\":'video'},on:{\"clickListCardItem\":_vm.goToVideoDetail,\"bottomLoad\":_vm.bottomLoad}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"videoList\">\r\n    <div class=\"musicListNavBar\" v-if=\"videoCategory.length != 0\">\r\n      <musiclistnavbar\r\n        :currentTag=\"currentTag\"\r\n        :sortList=\"sortList\"\r\n        :navData=\"videoCategory\"\r\n        @getSortList=\"getSortList\"\r\n        @clickSortBoxItem=\"clickSortBoxItem\"\r\n        @clickSecondBarItem=\"clickSecondBarItem\"\r\n      ></musiclistnavbar>\r\n    </div>\r\n    <!-- 视频卡片列表 -->\r\n    <video-list-card :videoList=\"videoList\" :isLoad=\"true\" :videoType=\"'video'\" class=\"cardList\" @clickListCardItem=\"goToVideoDetail\" @bottomLoad=\"bottomLoad\">\r\n    </video-list-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import musiclistnavbar from '../../../components/musicListNavBar/index.vue';\r\n  import VideoListCard from 'components/videoListCard/VideoListCard.vue';\r\n  // import GoTop from 'components/goTop/GoTop.vue';\r\n  // import SortBox from 'components/sortBox/SortBox.vue';\r\n  export default {\r\n    components: { VideoListCard, musiclistnavbar },\r\n    name: 'VideoList',\r\n    data() {\r\n      return {\r\n        // 视频分类\r\n        videoCategory: [],\r\n        // 当前标签\r\n        currentTag: {},\r\n        // 当前视频页数\r\n        videoPage: 1,\r\n        // 是否还有更多视频数据\r\n        hasMore: true,\r\n        // 视频列表数据\r\n        videoList: [],\r\n        // 视频分类tag列表\r\n        sortList: [],\r\n      };\r\n    },\r\n    methods: {\r\n      // 请求\r\n      // 请求视频分类\r\n      async getVideoCategory() {\r\n        const res = await this.get('/video/category/list');\r\n        this.videoCategory = res.data;\r\n        // eslint-disable-next-line prefer-destructuring\r\n        this.currentTag = res.data[0];\r\n      },\r\n      // 获取分类下的视频\r\n      // 这个接口一次只能获取8条数据, 所以我每次请求循环2次这个请求 拿16条数据\r\n      // 因为是每次8条数据push进去的 push了前 8条时因为高度不够，触发了组件video-list-card的触底，\r\n      // 又调用了一次请求，所以第一次请求会请求32条数据，后面高度够了都是一次请求16条，我觉得挺好的，就不理这个bug了\r\n      async getVideoList(id) {\r\n        let i = 2;\r\n        while (i) {\r\n          if (this.hasMore) {\r\n            const res = await this.get('/video/group', {\r\n              id,\r\n              offset: 8 * (this.videoPage - 1),\r\n            });\r\n            this.hasMore = res.hasmore;\r\n            this.videoList.push(...res.datas);\r\n            this.videoPage += 1;\r\n            // eslint-disable-next-line no-plusplus\r\n            i--;\r\n          } else {\r\n            return;\r\n          }\r\n        }\r\n      },\r\n\r\n      // 获取视频分类tag\r\n      async getSortList() {\r\n        const res = await this.get('/video/group/list');\r\n        this.sortList = res.data;\r\n      },\r\n\r\n      // 事件\r\n      // 点击分类的回调\r\n      clickSecondBarItem(index) {\r\n        this.videoPage = 1;\r\n        this.videoList = [];\r\n        this.currentTag = this.videoCategory[index];\r\n        this.getVideoList(this.currentTag.id);\r\n      },\r\n      // 进入视频详情页面\r\n      goToVideoDetail({ id }) {\r\n        this.$router.push({\r\n          name: 'videoDetail',\r\n          params: { id, type: 'video' },\r\n        });\r\n      },\r\n      // 上拉触底的回调\r\n      bottomLoad() {\r\n        if (this.hasMore) {\r\n          this.getVideoList(this.currentTag.id);\r\n        }\r\n      },\r\n\r\n      // 点击sortBoxItem的分类item的回调\r\n      clickSortBoxItem(item) {\r\n        this.currentTag = item;\r\n        this.videoPage = 1;\r\n        this.videoList = [];\r\n        this.getVideoList(item.id);\r\n      },\r\n    },\r\n    async created() {\r\n      await this.getVideoCategory();\r\n      await this.getVideoList(this.currentTag.id);\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .musicListNavBar {\r\n    padding: 10px 25px;\r\n\r\n    font-size: 12px;\r\n  }\r\n\r\n  .page {\r\n    width: 100%;\r\n    text-align: center;\r\n    padding-bottom: 20px;\r\n  }\r\n\r\n  .cardList {\r\n    overflow-y: scroll;\r\n    /* height: calc(100vh - 215px); */\r\n    height: 566px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoList.vue?vue&type=template&id=89443bce&scoped=true&\"\nimport script from \"./VideoList.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoList.vue?vue&type=style&index=0&id=89443bce&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89443bce\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}