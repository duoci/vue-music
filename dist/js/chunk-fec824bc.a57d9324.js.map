{"version":3,"sources":["webpack:///./src/components/Comment/Comment.vue?3296","webpack:///./src/components/userListCard/UserListCard.vue?2609","webpack:///./src/views/musicListDetail/MusicListDetail.vue?499d","webpack:///./src/components/Comment/Comment.vue?3c64","webpack:///src/components/Comment/Comment.vue","webpack:///./src/components/Comment/Comment.vue?02a9","webpack:///./src/components/Comment/Comment.vue","webpack:///./src/views/musicListDetail/MusicListDetail.vue?f0e3","webpack:///./src/components/userListCard/UserListCard.vue?4b91","webpack:///src/components/userListCard/UserListCard.vue","webpack:///./src/components/userListCard/UserListCard.vue?9866","webpack:///./src/components/userListCard/UserListCard.vue","webpack:///src/views/musicListDetail/MusicListDetail.vue","webpack:///./src/views/musicListDetail/MusicListDetail.vue?17bc","webpack:///./src/views/musicListDetail/MusicListDetail.vue","webpack:///./src/plugins/utils.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_t","_l","item","index","key","attrs","user","avatarUrl","on","$event","goToPersonal","userId","_v","_s","nickname","content","item1","index1","_f","time","class","liked","likeCurrentComment","commentId","likedCount","_m","staticRenderFns","component","musicListDetail","coverImgUrl","name","creator","createTime","playAll","isCreated","_e","collectList","isSub","tags","length","trackCount","playCount","description","clickTab","directives","rawName","value","expression","staticStyle","tracks","row","id","scrollLoadDisabled","clickRow","handleIndex","comments","hotComments","getMusicListComment","slot","total","currentCommentPage","commentPageChange","followedsListData","followedsList","isMore","isLoaded","disabled","clickUser","signature","userType","playlistCount","followeds","formatDate","date","fmt","test","replace","RegExp","$1","getFullYear","substr","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","handleNum","num","toFixed","handleMusicTime","parseInt","Math","floor","m","s","returnSecond","split"],"mappings":"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","file":"js/chunk-fec824bc.a57d9324.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=style&index=0&id=65bbec1a&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserListCard.vue?vue&type=style&index=0&id=6e25f1c2&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListDetail.vue?vue&type=style&index=0&id=360025c2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hotComments\"},[_c('div',{staticClass:\"commentHeader\"},[_vm._t(\"title\")],2),_vm._l((_vm.comments),function(item,index){return _c('div',{key:index,staticClass:\"commentItem\"},[_c('div',{staticClass:\"commentCreatorAvatar\"},[_c('img',{attrs:{\"src\":item.user.avatarUrl + '?param=100y100',\"alt\":\"\"},on:{\"click\":function($event){return _vm.goToPersonal(item.user.userId)}}})]),_c('div',{staticClass:\"commentMain\"},[_c('div',{staticClass:\"commentContent\"},[_c('span',{staticClass:\"commentUserNickName\",on:{\"click\":function($event){return _vm.goToPersonal(item.user.userId)}}},[_vm._v(_vm._s(item.user.nickname)+\": \")]),_c('span',[_vm._v(_vm._s(item.content))])]),_c('div',{staticClass:\"replied\"},_vm._l((item.beReplied),function(item1,index1){return _c('div',{key:index1,staticClass:\"repliedItem\"},[_c('span',{staticClass:\"repliedUser\",on:{\"click\":function($event){return _vm.goToPersonal(item.user.userId)}}},[_vm._v(\"@\"+_vm._s(item1.user.nickname)+\": \")]),_c('span',{staticClass:\"repliedContent\"},[_vm._v(_vm._s(item1.content))])])}),0),_c('div',{staticClass:\"commentBottom\"},[_c('div',{staticClass:\"commentCreatedTime\"},[_vm._v(\" \"+_vm._s(_vm._f(\"showDate\")(item.time))+\" \")]),_c('div',{staticClass:\"commentButtons\"},[_c('div',{class:item.liked ? 'likeCurrentComment' : '',on:{\"click\":function($event){return _vm.likeCurrentComment(item.liked, item.commentId)}}},[_c('i',{staticClass:\"iconfont icon-good\"}),_vm._v(\" \"+_vm._s(item.likedCount)+\" \")]),_vm._m(0,true),_vm._m(1,true)])])])])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i',{staticClass:\"iconfont icon-zhuanfa\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i',{staticClass:\"iconfont icon-pinglun\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"hotComments\">\r\n    <div class=\"commentHeader\"><slot name=\"title\"></slot></div>\r\n    <div class=\"commentItem\" v-for=\"(item, index) in comments\" :key=\"index\">\r\n      <div class=\"commentCreatorAvatar\">\r\n        <img :src=\"item.user.avatarUrl + '?param=100y100'\" alt=\"\" @click=\"goToPersonal(item.user.userId)\" />\r\n      </div>\r\n      <div class=\"commentMain\">\r\n        <div class=\"commentContent\">\r\n          <span class=\"commentUserNickName\" @click=\"goToPersonal(item.user.userId)\">{{ item.user.nickname }}:&nbsp;</span>\r\n          <span>{{ item.content }}</span>\r\n        </div>\r\n        <div class=\"replied\">\r\n          <div class=\"repliedItem\" v-for=\"(item1, index1) in item.beReplied\" :key=\"index1\">\r\n            <span class=\"repliedUser\" @click=\"goToPersonal(item.user.userId)\">@{{ item1.user.nickname }}:&nbsp;</span>\r\n            <span class=\"repliedContent\">{{ item1.content }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"commentBottom\">\r\n          <div class=\"commentCreatedTime\">\r\n            {{ item.time | showDate }}\r\n          </div>\r\n          <div class=\"commentButtons\">\r\n            <div @click=\"likeCurrentComment(item.liked, item.commentId)\" :class=\"item.liked ? 'likeCurrentComment' : ''\">\r\n              <i class=\"iconfont icon-good\"></i> {{ item.likedCount }}\r\n            </div>\r\n            <div><i class=\"iconfont icon-zhuanfa\"></i></div>\r\n            <div>\r\n              <i class=\"iconfont icon-pinglun\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { formatDate } from '@/plugins/utils';\r\n  import { mapMutations } from 'vuex';\r\n  export default {\r\n    name: 'Comment',\r\n    props: {\r\n      // 评论数据\r\n      comments: {\r\n        type: Array,\r\n        default() {\r\n          return [];\r\n        },\r\n      },\r\n      // 评论的类型\r\n      commentType: {\r\n        type: String,\r\n        default() {\r\n          return '';\r\n        },\r\n      },\r\n      // 评论对象的id\r\n      commentId: {\r\n        type: String,\r\n        default() {\r\n          return '';\r\n        },\r\n      },\r\n      // 歌曲评论需要歌曲名称\r\n      musicTitle: {\r\n        type: String,\r\n        default() {\r\n          return '';\r\n        },\r\n      },\r\n      // 是否是热门评论\r\n      isHotComment: {\r\n        type: Boolean,\r\n        default() {\r\n          return true;\r\n        },\r\n      },\r\n    },\r\n    methods: {\r\n      ...mapMutations(['changeMusicDetailCardState']),\r\n      // 评论点赞\r\n      async likeCurrentComment(flag, cid) {\r\n        // 判断是否登录\r\n        if (!this.$store.state.isLogin) {\r\n          this.$message.warning('只有登陆后才能点赞哦!');\r\n          return;\r\n        }\r\n        // 获取时间戳\r\n        const timestamp = Date.parse(new Date());\r\n        // 判断评论的类型\r\n        let type;\r\n        switch (this.commentType) {\r\n          case 'album':\r\n            type = 3;\r\n            break;\r\n          case 'musicList':\r\n            type = 2;\r\n            break;\r\n          case 'music':\r\n            type = 0;\r\n            break;\r\n          case 'mv':\r\n            type = 1;\r\n            break;\r\n          case 'video':\r\n            type = 5;\r\n            break;\r\n        }\r\n        const res = await this.get('/comment/like', {\r\n          id: this.commentId,\r\n          cid,\r\n          t: flag ? 0 : 1,\r\n          type,\r\n          timestamp,\r\n        });\r\n        if (res.code === 200) {\r\n          this.$emit('getComment');\r\n        } else {\r\n          this.$message.error('点赞失败,请稍后重试!');\r\n        }\r\n      },\r\n      // 跳转用户页面\r\n      goToPersonal(userId) {\r\n        this.$router.push({\r\n          name: 'personal',\r\n          params: { uid: userId },\r\n        });\r\n        if (this.commentType === 'music') {\r\n          // this.$emit(\"closeMuiscDetailCard\");\r\n          this.changeMusicDetailCardState(false);\r\n        }\r\n      },\r\n    },\r\n    filters: {\r\n      showDate(value) {\r\n        // 1、先将时间戳转成Date对象\r\n        const date = new Date(value);\r\n\r\n        // 2、将date进行格式化\r\n        return formatDate(date, 'yyyy-MM-dd');\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .hotComments {\r\n    .commentHeader {\r\n      font-size: 18px;\r\n      color: rgb(26, 26, 26);\r\n      font-weight: 600;\r\n      padding: 10px 0;\r\n    }\r\n    .commentItem {\r\n      display: flex;\r\n      margin: 5px 0;\r\n      padding: 10px 0 20px;\r\n      border-bottom: 1px solid #eee;\r\n      font-size: 16px;\r\n      .commentCreatorAvatar {\r\n        width: 35px;\r\n        height: 35px;\r\n        margin: 0px 10px 0 0;\r\n        & img {\r\n          width: 100%;\r\n          border-radius: 50%;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n      .commentMain {\r\n        .likeCurrentComment,\r\n        .likeCurrentComment i {\r\n          color: #ec4141 !important;\r\n        }\r\n        width: calc(100% - 50px);\r\n        .commentUserNickName {\r\n          color: #5a8ab9;\r\n          cursor: pointer;\r\n        }\r\n        .commentBottom {\r\n          margin-top: 2px;\r\n          color: rgb(172, 172, 172);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n        }\r\n\r\n        .commentButtons {\r\n          display: flex;\r\n          align-items: center;\r\n        }\r\n        .commentButtons div {\r\n          margin-top: -3px;\r\n          padding: 0 8px;\r\n          transform: scale(0.85);\r\n        }\r\n\r\n        .commentButtons div:nth-child(1) {\r\n          font-size: 16px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comment.vue?vue&type=template&id=65bbec1a&scoped=true&\"\nimport script from \"./Comment.vue?vue&type=script&lang=js&\"\nexport * from \"./Comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comment.vue?vue&type=style&index=0&id=65bbec1a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65bbec1a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.musicListDetail)?_c('div',{staticClass:\"musicListDetail\"},[_c('div',{staticClass:\"listInfo\"},[_c('div',{staticClass:\"listAvatar\"},[_c('img',{attrs:{\"src\":_vm.musicListDetail.coverImgUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"titleTag\"},[_vm._v(\"歌单\")]),_c('div',{staticClass:\"titleContent\"},[_vm._v(_vm._s(_vm.musicListDetail.name))])]),_c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"userAvatar\"},[_c('img',{attrs:{\"src\":_vm.musicListDetail.creator.avatarUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"userName\"},[_vm._v(\" \"+_vm._s(_vm.musicListDetail.creator.nickname)+\" \")]),_c('div',{staticClass:\"createTime\"},[_vm._v(_vm._s(_vm._f(\"showDate\")(_vm.musicListDetail.createTime))+\"创建\")])]),_c('div',{staticClass:\"buttons\"},[_c('div',{staticClass:\"buttonItem playAll\",on:{\"click\":_vm.playAll}},[_c('i',{staticClass:\"iconfont icon-bofang playAll\"}),_c('span',[_vm._v(\"播放全部\")])]),(!_vm.isCreated)?_c('div',{staticClass:\"buttonItem\",on:{\"click\":_vm.collectList}},[_c('i',{staticClass:\"iconfont icon-xihuan\"}),_c('span',[_vm._v(_vm._s(_vm.isSub ? '已收藏' : '收藏'))])]):_vm._e(),_vm._m(0)]),_c('div',{staticClass:\"tags\"},[_vm._v(\" 标签： \"),_vm._l((_vm.musicListDetail.tags),function(item,index){return _c('div',{key:index,staticClass:\"tagItem\"},[_vm._v(\" \"+_vm._s(item)+\" \")])}),(_vm.musicListDetail.tags.length == 0)?_c('div',[_vm._v(\"暂无标签\")]):_vm._e()],2),_c('div',{staticClass:\"otherInfo\"},[_c('div',{staticClass:\"musicNum\"},[_vm._v(\"歌曲 : \"+_vm._s(_vm.musicListDetail.trackCount))]),_c('div',{staticClass:\"playCount\"},[_vm._v(\"播放 : \"+_vm._s(_vm.musicListDetail.playCount))])]),_c('div',{staticClass:\"desc\"},[_vm._v(\" 简介 : \"+_vm._s(_vm.musicListDetail.description ? _vm.musicListDetail.description : '暂无简介')+\" \")])])]),_c('div',{staticClass:\"musicList\"},[_c('el-tabs',{attrs:{\"value\":\"first\"},on:{\"tab-click\":_vm.clickTab}},[_c('el-tab-pane',{attrs:{\"label\":\"歌曲列表\",\"name\":\"first\"}},[_c('el-table',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.musicListDetail.tracks,\"size\":\"mini\",\"highlight-current-row\":\"\",\"stripe\":\"\",\"lazy\":\"\",\"row-key\":function (row) {\n              return row.id;\n            },\"infinite-scroll-disabled\":_vm.scrollLoadDisabled,\"infinite-scroll-distance\":1500,\"infinite-scroll-immediate\":false},on:{\"row-dblclick\":_vm.clickRow}},[_c('el-table-column',{attrs:{\"label\":\"\",\"width\":\"60\",\"type\":\"index\",\"index\":_vm.handleIndex}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"音乐标题\",\"min-width\":\"300\"}}),_c('el-table-column',{attrs:{\"prop\":\"ar[0].name\",\"label\":\"歌手\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"al.name\",\"label\":\"专辑\",\"min-width\":\"170\"}}),_c('el-table-column',{attrs:{\"prop\":\"dt\",\"label\":\"时长\",\"min-width\":\"100\"}})],1),_c('div',{staticClass:\"placeholder\"})],1),_c('el-tab-pane',{attrs:{\"label\":\"评论\",\"name\":\"second\"}},[_c('div',{staticClass:\"commentList\"},[_c('comment',{attrs:{\"comments\":_vm.comments.comments,\"commentType\":'musicList',\"commentId\":_vm.musicListDetail.id + '',\"isHotComment\":_vm.comments.hotComments ? false : true},on:{\"getComment\":_vm.getMusicListComment}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"最新评论\")])])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.comments.comments && _vm.comments.comments.length != 0),expression:\"comments.comments && comments.comments.length != 0\"}],staticClass:\"page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.comments.total,\"small\":\"\",\"page-size\":50,\"current-page\":_vm.currentCommentPage},on:{\"current-change\":_vm.commentPageChange}})],1)]),_c('el-tab-pane',{attrs:{\"label\":\"收藏者\",\"name\":\"third\"}},[_c('user-list-card',{attrs:{\"userType\":\"musicListDetailPage\",\"userList\":_vm.followedsListData.followedsList,\"isLoad\":_vm.followedsListData.isMore}}),(_vm.followedsListData.followedsList.length == 0 && _vm.followedsListData.isLoaded == true)?_c('div',{staticClass:\"tips\"},[_vm._v(\"暂无收藏者\")]):_vm._e()],1)],1)],1)]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buttonItem\"},[_c('i',{staticClass:\"iconfont icon-zhuanfa\"}),_c('span',[_vm._v(\"分享\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"UserListCard\",attrs:{\"infinite-scroll-disabled\":_vm.disabled,\"infinite-scroll-distance\":300,\"infinite-scroll-immediate\":false}},_vm._l((_vm.userList),function(item,index){return _c('div',{key:index,staticClass:\"userItemContainer\",on:{\"click\":function($event){return _vm.clickUser(item.userId)}}},[_c('div',{staticClass:\"userItem\"},[_c('div',{staticClass:\"left\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.avatarUrl + '?param=200y200',\"alt\":\"\"}})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"nickName\"},[_vm._v(_vm._s(item.nickname))]),_c('div',{staticClass:\"signature\"},[_vm._v(\" \"+_vm._s(item.signature)+\" \")]),(_vm.userType == 'personalPage')?_c('div',{staticClass:\"nums\"},[_c('div',{staticClass:\"musicListNum\"},[_vm._v(_vm._s('歌单: ' + item.playlistCount))]),_c('div',{staticClass:\"fenge\"},[_vm._v(\"|\")]),_c('div',{staticClass:\"followedsNum\"},[_vm._v(_vm._s('粉丝: ' + item.followeds))])]):_vm._e()])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"UserListCard\" v-infinite-scroll=\"load\" :infinite-scroll-disabled=\"disabled\" :infinite-scroll-distance=\"300\" :infinite-scroll-immediate=\"false\">\r\n    <div class=\"userItemContainer\" v-for=\"(item, index) in userList\" :key=\"index\" @click=\"clickUser(item.userId)\">\r\n      <div class=\"userItem\">\r\n        <div class=\"left\">\r\n          <img :src=\"item.avatarUrl + '?param=200y200'\" alt=\"\" class=\"avatar\" />\r\n        </div>\r\n        <div class=\"right\">\r\n          <div class=\"nickName\">{{ item.nickname }}</div>\r\n          <div class=\"signature\">\r\n            {{ item.signature }}\r\n          </div>\r\n          <div class=\"nums\" v-if=\"userType == 'personalPage'\">\r\n            <div class=\"musicListNum\">{{ '歌单: ' + item.playlistCount }}</div>\r\n            <div class=\"fenge\">|</div>\r\n            <div class=\"followedsNum\">{{ '粉丝: ' + item.followeds }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'UserListCard',\r\n    props: {\r\n      userList: {\r\n        type: Array,\r\n        default() {\r\n          return [];\r\n        },\r\n      },\r\n      // 是否使用上拉触底事件\r\n      isLoad: {\r\n        type: Boolean,\r\n        default() {\r\n          return false;\r\n        },\r\n      },\r\n      userType: {\r\n        type: String,\r\n        default() {\r\n          return 'personalPage';\r\n        },\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        // 无限滚动是否可用\r\n        disabled: true,\r\n      };\r\n    },\r\n    methods: {\r\n      // 事件\r\n      // 点击useritem的事件\r\n      clickUser(id) {\r\n        this.$router.push({ name: 'personal', params: { uid: id } });\r\n      },\r\n\r\n      // 上拉触底触发\r\n      load() {\r\n        this.$emit('bottomLoad');\r\n        this.disabled = true;\r\n      },\r\n    },\r\n    watch: {\r\n      userList() {\r\n        if (this.isLoad === true) {\r\n          if (this.userList.length !== 0) {\r\n            this.disabled = false;\r\n          } else {\r\n            this.disabled = true;\r\n          }\r\n        }\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .UserListCard {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\n  .userItemContainer {\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .userItem {\r\n    display: flex;\r\n    width: 350px;\r\n    padding: 10px 10px;\r\n    border-radius: 10px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .userItem:hover {\r\n    background-color: #f9f9f9;\r\n  }\r\n\r\n  .avatar {\r\n    height: 70px;\r\n    width: 70px;\r\n    object-fit: cover;\r\n    border-radius: 50%;\r\n    border: 1px solid #eee;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .nickName {\r\n    margin: 10px 0 5px;\r\n    font-size: 13px;\r\n    color: #373737;\r\n  }\r\n\r\n  .signature {\r\n    font-weight: lighter;\r\n    font-size: 12px;\r\n    transform: scale(0.9) translateX(-5%);\r\n    flex: 1;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    width: 250px;\r\n    height: 13px;\r\n    margin: 5px 0;\r\n  }\r\n\r\n  .nums {\r\n    display: flex;\r\n    font-size: 12px;\r\n    transform: scale(0.9) translateX(-5%);\r\n    color: #888;\r\n  }\r\n\r\n  .fenge {\r\n    color: #ddd;\r\n    margin: 0 10px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserListCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserListCard.vue?vue&type=template&id=6e25f1c2&scoped=true&\"\nimport script from \"./UserListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserListCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserListCard.vue?vue&type=style&index=0&id=6e25f1c2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e25f1c2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"musicListDetail\" v-if=\"musicListDetail\">\r\n    <!-- 歌单信息 -->\r\n    <div class=\"listInfo\">\r\n      <!-- 歌单封面 -->\r\n      <div class=\"listAvatar\">\r\n        <img :src=\"musicListDetail.coverImgUrl\" alt=\"\" />\r\n      </div>\r\n      <div class=\"right\">\r\n        <!-- 标题 -->\r\n        <div class=\"title\">\r\n          <div class=\"titleTag\">歌单</div>\r\n          <div class=\"titleContent\">{{ musicListDetail.name }}</div>\r\n        </div>\r\n        <!-- 用户信息 -->\r\n        <div class=\"user\">\r\n          <div class=\"userAvatar\">\r\n            <img :src=\"musicListDetail.creator.avatarUrl\" alt=\"\" />\r\n          </div>\r\n          <div class=\"userName\">\r\n            {{ musicListDetail.creator.nickname }}\r\n          </div>\r\n          <div class=\"createTime\">{{ musicListDetail.createTime | showDate }}创建</div>\r\n        </div>\r\n        <!-- 操作按钮 -->\r\n        <div class=\"buttons\">\r\n          <div class=\"buttonItem playAll\" @click=\"playAll\">\r\n            <i class=\"iconfont icon-bofang playAll\"></i>\r\n            <span>播放全部</span>\r\n          </div>\r\n          <div class=\"buttonItem\" v-if=\"!isCreated\" @click=\"collectList\">\r\n            <i class=\"iconfont icon-xihuan\"></i>\r\n            <span>{{ isSub ? '已收藏' : '收藏' }}</span>\r\n          </div>\r\n          <div class=\"buttonItem\">\r\n            <i class=\"iconfont icon-zhuanfa\"></i>\r\n            <span>分享</span>\r\n          </div>\r\n        </div>\r\n        <!-- 标签 -->\r\n        <div class=\"tags\">\r\n          标签：\r\n          <div class=\"tagItem\" v-for=\"(item, index) in musicListDetail.tags\" :key=\"index\">\r\n            {{ item }}\r\n          </div>\r\n          <div v-if=\"musicListDetail.tags.length == 0\">暂无标签</div>\r\n        </div>\r\n        <!-- 歌曲列表的歌曲数量和播放量 -->\r\n        <div class=\"otherInfo\">\r\n          <div class=\"musicNum\">歌曲 : {{ musicListDetail.trackCount }}</div>\r\n          <div class=\"playCount\">播放 : {{ musicListDetail.playCount }}</div>\r\n        </div>\r\n        <div class=\"desc\">\r\n          简介 :\r\n          {{ musicListDetail.description ? musicListDetail.description : '暂无简介' }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 歌曲列表 -->\r\n    <div class=\"musicList\">\r\n      <el-tabs value=\"first\" @tab-click=\"clickTab\">\r\n        <el-tab-pane label=\"歌曲列表\" name=\"first\">\r\n          <!-- 表格 -->\r\n          <el-table\r\n            :data=\"musicListDetail.tracks\"\r\n            size=\"mini\"\r\n            style=\"width: 100%\"\r\n            highlight-current-row\r\n            stripe\r\n            lazy\r\n            @row-dblclick=\"clickRow\"\r\n            :row-key=\"\r\n              row => {\r\n                return row.id;\r\n              }\r\n            \"\r\n            v-infinite-scroll=\"loadMore\"\r\n            :infinite-scroll-disabled=\"scrollLoadDisabled\"\r\n            :infinite-scroll-distance=\"1500\"\r\n            :infinite-scroll-immediate=\"false\"\r\n          >\r\n            <el-table-column label=\"\" width=\"60\" type=\"index\" :index=\"handleIndex\"> </el-table-column>\r\n            <el-table-column prop=\"name\" label=\"音乐标题\" min-width=\"300\"> </el-table-column>\r\n            <el-table-column prop=\"ar[0].name\" label=\"歌手\" min-width=\"120\"> </el-table-column>\r\n            <el-table-column prop=\"al.name\" label=\"专辑\" min-width=\"170\"> </el-table-column>\r\n            <el-table-column prop=\"dt\" label=\"时长\" min-width=\"100\"> </el-table-column>\r\n            <!-- <el-table-column prop=\"id\"></el-table-column> -->\r\n          </el-table>\r\n          <div class=\"placeholder\"></div>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"评论\" name=\"second\">\r\n          <div class=\"commentList\">\r\n            <comment\r\n              :comments=\"comments.comments\"\r\n              :commentType=\"'musicList'\"\r\n              :commentId=\"musicListDetail.id + ''\"\r\n              :isHotComment=\"comments.hotComments ? false : true\"\r\n              @getComment=\"getMusicListComment\"\r\n              ><div slot=\"title\">最新评论</div></comment\r\n            >\r\n          </div>\r\n          <!-- 分页 -->\r\n          <div class=\"page\" v-show=\"comments.comments && comments.comments.length != 0\">\r\n            <el-pagination\r\n              background\r\n              layout=\"prev, pager, next\"\r\n              :total=\"comments.total\"\r\n              small\r\n              :page-size=\"50\"\r\n              :current-page=\"currentCommentPage\"\r\n              @current-change=\"commentPageChange\"\r\n            >\r\n            </el-pagination>\r\n          </div>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"收藏者\" name=\"third\">\r\n          <user-list-card userType=\"musicListDetailPage\" :userList=\"followedsListData.followedsList\" :isLoad=\"followedsListData.isMore\"></user-list-card>\r\n          <div class=\"tips\" v-if=\"followedsListData.followedsList.length == 0 && followedsListData.isLoaded == true\">暂无收藏者</div>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { formatDate, handleNum, handleMusicTime } from '@/plugins/utils';\r\n  import Comment from '@/components/Comment/Comment.vue';\r\n  // import GoTop from 'components/goTop/GoTop.vue';\r\n  import UserListCard from '@/components/userListCard/UserListCard.vue';\r\n  import { mapState, mapMutations } from 'vuex';\r\n\r\n  export default {\r\n    name: 'MusicListDetail',\r\n    data() {\r\n      return {\r\n        musicListDetail: null,\r\n        comments: {},\r\n        // 当前评论页数\r\n        currentCommentPage: 1,\r\n        // 用户是否收藏了当前歌单\r\n        isSub: false,\r\n        // 是否是用户创建的歌单\r\n        isCreated: false,\r\n        // 评论是否在加载\r\n        isCommentLoading: false,\r\n        // 是否禁止滚动加载\r\n        scrollLoadDisabled: false,\r\n        // 收藏者列表的变量\r\n        followedsListData: {\r\n          // 当前页数\r\n          currentPage: 1,\r\n          // 列表\r\n          followedsList: [],\r\n          // 是否还有更多\r\n          isMore: false,\r\n          // 是否已经加载过列表数据 （用于点击收藏者tab后第一次加载数据）\r\n          isLoaded: false,\r\n        },\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState(['isLogin', 'createdMusicList', 'musicListId', 'collectMusicList', 'musicId']),\r\n    },\r\n    components: {\r\n      Comment,\r\n      // GoTop,\r\n      UserListCard,\r\n    },\r\n    created() {\r\n      this.getMusicListDetail();\r\n      this.getUserMusicList();\r\n      this.getIsSub();\r\n    },\r\n    methods: {\r\n      ...mapMutations(['updateMusicId', 'updateMusicList', 'updateCollectMusicList']),\r\n      // 请求\r\n      // 根据传来的 id 查询歌单\r\n      async getMusicListDetail() {\r\n        const timestamp = Date.parse(new Date());\r\n        const res = await this.get('/playlist/detail', {\r\n          id: this.$route.params.id,\r\n          timestamp,\r\n        });\r\n        this.musicListDetail = res.playlist;\r\n        // 处理播放时间\r\n        this.musicListDetail.tracks.forEach((item, index) => {\r\n          this.musicListDetail.tracks[index].dt = handleMusicTime(item.dt);\r\n        });\r\n      },\r\n      // 获取歌单评论\r\n      async getMusicListComment(type) {\r\n        // 获取时间戳\r\n        const timestamp = Date.parse(new Date());\r\n        this.isCommentLoading = true;\r\n        if (type === 'changePage') {\r\n          this.scrollToComment();\r\n        }\r\n        const res = await this.get('/comment/playlist', {\r\n          id: this.$route.params.id,\r\n          offset: (this.currentCommentPage - 1) * 50,\r\n          limit: 50,\r\n          timestamp,\r\n        });\r\n\r\n        this.comments = res;\r\n        this.isCommentLoading = false;\r\n      },\r\n      // 滚动到上面\r\n      scrollToComment() {\r\n        const musicListDetail = document.querySelector('.musicListDetail');\r\n        const listInfo = document.querySelector('.listInfo');\r\n        musicListDetail.scrollTo({\r\n          behavior: 'smooth',\r\n          top: listInfo.clientHeight - 20,\r\n        });\r\n      },\r\n      // 翻页函数\r\n      commentPageChange(page) {\r\n        this.currentCommentPage = page;\r\n        this.getMusicListComment('changePage');\r\n      },\r\n      // 获取歌单收藏者\r\n      async getMusicListFolloweds() {\r\n        const res = await this.get('/playlist/subscribers', {\r\n          id: this.$route.params.id,\r\n          offset: (this.followedsListData.currentPage - 1) * 20,\r\n        });\r\n        this.followedsListData.followedsList.push(...res.subscribers);\r\n      },\r\n      // 点击小喇叭\r\n      handleDOM(current, last) {\r\n        if (document.querySelector('.musicListDetail')) {\r\n          const tableRows = document.querySelector('.musicListDetail').querySelectorAll('.el-table__row');\r\n          // 遍历当前musicList 找到当前播放的index的行进行渲染\r\n          const index = this.musicListDetail.tracks.findIndex(item => {\r\n            return item.id === current;\r\n          });\r\n          if (index !== -1) {\r\n            // 直接修改dom样式的颜色无效  可能是因为第三方组件的原故\r\n            // 通过引入全局样式解决\r\n            // 将正在播放的音乐前面的索引换成小喇叭\r\n            tableRows[index].children[0].querySelector('.cell').innerHTML = '<div><i class=\"iconfont icon-yinliang\"></i></div>';\r\n            tableRows[index].children[0].querySelector('.iconfont').classList.add('currentRow');\r\n            tableRows[index].children[2].querySelector('.cell').classList.add('currentRow');\r\n          }\r\n          // 清除上一首的样式\r\n          if (last !== -1) {\r\n            const lastIndex = this.musicListDetail.tracks.findIndex(item => {\r\n              return item.id === last;\r\n            });\r\n            if (lastIndex !== -1) {\r\n              // 将上一个播放的dom的小喇叭换回索引\r\n              tableRows[lastIndex].children[0].querySelector('.cell').innerHTML = `<div>${lastIndex + 1 < 10 ? `0${lastIndex + 1}` : lastIndex + 1}</div>`;\r\n\r\n              // 将上一首的类名删掉  小喇叭的html已经被替换了，不需要再还原\r\n              tableRows[lastIndex].children[2].querySelector('.cell').classList.remove('currentRow');\r\n            }\r\n          }\r\n        }\r\n      },\r\n      // 少10加零函数\r\n      handleIndex(index) {\r\n        index += 1;\r\n        if (index < 10) {\r\n          return `0${index}`;\r\n        }\r\n        return index;\r\n      },\r\n      // 点击播放全部都函数处理\r\n      playAll() {\r\n        this.updateMusicId(this.musicListDetail.tracks[0].id);\r\n        this.updateMusicList({\r\n          musicList: this.musicListDetail.tracks,\r\n          musicListId: this.musicListDetail.id,\r\n        });\r\n      },\r\n      // 点击el-tab-pane的回调\r\n      clickTab(e) {\r\n        if (e.index === '1' && !this.comments.comments) {\r\n          this.getMusicListComment();\r\n        } else if (e.index === '2' && !this.followedsListData.isLoaded) {\r\n          this.getMusicListFolloweds();\r\n          this.followedsListData.isLoaded = true;\r\n        }\r\n      },\r\n      // 音乐详情\r\n      async getMusicDetail(ids) {\r\n        if (this.isMore === false) return;\r\n        this.scrollLoadDisabled = true;\r\n        const res = await this.get('/song/detail', { ids });\r\n        // 处理时间\r\n        res.songs.forEach((item, index) => {\r\n          res.songs[index].dt = handleMusicTime(item.dt);\r\n        });\r\n        this.musicListDetail.tracks.push(...res.songs);\r\n      },\r\n      // 双击table的row的回调\r\n      async clickRow(row) {\r\n        // 将musicId提交到vuex中 供bottomControl查询歌曲url和其它操作\r\n        this.updateMusicId(row.id);\r\n        // 如果歌单发生变化,则提交歌单到vuex\r\n        if (this.musicListDetail.id !== this.musicListId) {\r\n          // 将歌单传到vuex\r\n          this.updateMusicList({\r\n            musicList: this.musicListDetail.tracks,\r\n            musicListId: this.musicListDetail.id,\r\n          });\r\n        }\r\n      },\r\n      // 请求用户歌单\r\n      async getUserMusicList() {\r\n        const timestamp = Date.parse(new Date());\r\n        const res = await this.get('/user/playlist', {\r\n          uid: window.localStorage.getItem('userId'),\r\n          timestamp,\r\n        });\r\n        // eslint-disable-next-line no-const-assign\r\n        const arr = res.playlist;\r\n        const index = arr.findIndex(item => {\r\n          return item.subscribed === true;\r\n        });\r\n        this.collectedMusicList = arr.slice(index);\r\n        // 将收藏的歌单上传至vuex\r\n        this.updateCollectMusicList(this.collectedMusicList);\r\n      },\r\n      // 刷新获取歌单歌曲数据\r\n      loadMore() {\r\n        if (!this.isLogin) {\r\n          this.$message.error('请先进行登录操作!');\r\n          return;\r\n        }\r\n        let arr = this.musicListDetail.trackIds.slice(this.musicListDetail.tracks.length);\r\n        if (arr.length > 100) {\r\n          arr = arr.slice(0, 100);\r\n        }\r\n        let ids = '';\r\n        arr.forEach(item => {\r\n          ids += `${item.id},`;\r\n        });\r\n        ids = ids.substr(0, ids.length - 1);\r\n        this.getMusicDetail(ids);\r\n      },\r\n      // 判断是否是用户创建的歌单\r\n      getIsCreated() {\r\n        this.isCreated = this.$store.state.createdMusicList.find(item => {\r\n          return item.id === Number(this.$route.params.id);\r\n        });\r\n      },\r\n      // 判断是否为收藏的歌单\r\n      getIsSub() {\r\n        const paramsId = Number(this.$route.params.id);\r\n        this.isSub = this.collectMusicList.find(item => {\r\n          return item.id === paramsId;\r\n        });\r\n      },\r\n      // 点击收藏按钮的回调\r\n      async collectList() {\r\n        this.isSub = !this.isSub;\r\n        const timestamp = Date.parse(new Date());\r\n        const res = await this.get('/playlist/subscribe', {\r\n          id: this.$route.params.id,\r\n          t: this.isSub ? 1 : 2,\r\n          timestamp,\r\n        });\r\n        // 请求收藏歌单列表并保存至vuex\r\n        this.getUserMusicList();\r\n      },\r\n    },\r\n    watch: {\r\n      musicId(current, last) {\r\n        this.handleDOM(current, last);\r\n      },\r\n      // 监听createdMusicList的变化\r\n      createdMusicList(current, last) {\r\n        if (last.length === 0) {\r\n          this.getIsSub();\r\n        }\r\n      },\r\n    },\r\n    filters: {\r\n      showDate(value) {\r\n        // 1、先将时间戳转成Date对象\r\n        const date = new Date(value);\r\n        // 2、将date进行格式化\r\n        return formatDate(date, 'yyyy-MM-dd');\r\n      },\r\n      handleNum,\r\n    },\r\n    async mounted() {\r\n      if (this.isLogin) {\r\n        // 先判断是否是用户创建的歌单\r\n        this.getIsCreated();\r\n        // 如果不是 再判断是否是收藏的歌单\r\n        if (!this.isCreated) {\r\n          this.getIsSub();\r\n        }\r\n      }\r\n      await this.getMusicListDetail();\r\n      this.$nextTick(() => {\r\n        // 判断是否和上一次打开的歌单相同\r\n        if (this.$route.params.id === this.musicListId) {\r\n          this.handleDOM(this.musicId);\r\n        }\r\n      });\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .musicListDetail {\r\n    overflow-y: scroll;\r\n    min-width: 1000px;\r\n    padding: 0 20px;\r\n    max-height: 785px;\r\n  }\r\n\r\n  .listInfo {\r\n    display: flex;\r\n    padding: 25px 20px;\r\n    align-items: center;\r\n  }\r\n\r\n  .listAvatar {\r\n    width: 200px;\r\n    height: 200px;\r\n    overflow: hidden;\r\n    border-radius: 10px;\r\n    margin-right: 20px;\r\n    position: relative;\r\n  }\r\n\r\n  .listAvatar::after {\r\n    content: '';\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    /* background: url('~assets/img/imgLoading.png') no-repeat; */\r\n    background-size: contain;\r\n    z-index: -1;\r\n  }\r\n\r\n  .listAvatar img {\r\n    width: 100%;\r\n  }\r\n\r\n  .right {\r\n    width: calc(100% - 208px);\r\n  }\r\n\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .titleTag {\r\n    font-size: 23px;\r\n    color: #ec4141;\r\n    border: 1px solid #ec4141;\r\n    padding: 1px 2px;\r\n    border-radius: 2px;\r\n    margin-right: 5px;\r\n    transform: scale(0.8);\r\n  }\r\n\r\n  .titleContent {\r\n    font-size: 27px;\r\n    font-weight: 600;\r\n    color: #373737;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    width: 90%;\r\n  }\r\n\r\n  .user {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 8px;\r\n    font-size: 12px;\r\n  }\r\n\r\n  .userAvatar {\r\n    height: 25px;\r\n    width: 25px;\r\n    margin-right: 8px;\r\n  }\r\n\r\n  .userAvatar img {\r\n    width: 100%;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  .userName {\r\n    color: #6191c2;\r\n    margin-right: 8px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n  }\r\n\r\n  .createTime {\r\n    transform: scale(0.9);\r\n    font-size: 16px;\r\n  }\r\n\r\n  .buttons {\r\n    margin: 8px 0 0 -5px;\r\n    display: flex;\r\n  }\r\n\r\n  .buttonItem {\r\n    font-size: 18px;\r\n    padding: 8px 15px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 20px;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .buttonItem i {\r\n    font-size: 12px;\r\n    margin-right: 3px;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .playAll {\r\n    background-color: #ec4141;\r\n    color: white;\r\n  }\r\n\r\n  .tags {\r\n    width: 250px;\r\n    margin: 8px 0 0 -12px;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    font-size: 18px;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .tagItem {\r\n    color: #6191c2;\r\n    margin-right: 5px;\r\n  }\r\n\r\n  .otherInfo {\r\n    width: 230px;\r\n    margin: 5px 0 0 -10px;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    font-size: 16px;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .musicNum {\r\n    margin-right: 13px;\r\n  }\r\n\r\n  .desc {\r\n    width: 500px;\r\n    margin: 5px 0 0 -26px;\r\n    font-size: 16px;\r\n    transform: scale(0.9);\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .musicList {\r\n    margin: -15px 15px 0;\r\n  }\r\n\r\n  .page {\r\n    width: 100%;\r\n    text-align: center;\r\n    padding-bottom: 20px;\r\n  }\r\n\r\n  .placeholder {\r\n    width: 100%;\r\n    height: 50px;\r\n  }\r\n\r\n  .loadMore {\r\n    width: 100%;\r\n    height: 50px;\r\n    font-size: 12px;\r\n    color: #aaa;\r\n    text-align: center;\r\n    line-height: 50px;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .red {\r\n    color: #ec4141;\r\n  }\r\n\r\n  .commentList /deep/ .el-loading-spinner {\r\n    top: 40px;\r\n  }\r\n\r\n  .tips {\r\n    font-size: 14px;\r\n    margin: 30px 0;\r\n    text-align: center;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MusicListDetail.vue?vue&type=template&id=360025c2&scoped=true&\"\nimport script from \"./MusicListDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./MusicListDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MusicListDetail.vue?vue&type=style&index=0&id=360025c2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"360025c2\",\n  null\n  \n)\n\nexport default component.exports","// 格式化时间\r\n// eslint-disable-next-line func-style\r\nexport function formatDate(date, fmt) {\r\n  // 1.获取年份\r\n  // y+ 1个或者多个y  yyyy:2021\r\n  // y* 0个或者多个y\r\n  // y? 0个或者1个y\r\n  if (/(y+)/.test(fmt)) {\r\n    // RegExp.$1 指的是与正则表达式匹配的第一个子匹配\r\n    fmt = fmt.replace(RegExp.$1, `${date.getFullYear()}`.substr(4 - RegExp.$1.length));\r\n  }\r\n\r\n  // 2.获取月日等\r\n  const o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds(),\r\n  };\r\n  for (const k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      const str = `${o[k]}`;\r\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\r\n    }\r\n  }\r\n  return fmt;\r\n}\r\n\r\n// 不足两位补足两位 04:05:09\r\n// eslint-disable-next-line func-style\r\nfunction padLeftZero(str) {\r\n  // str=4 -> 004 截取 1 位 -> 04\r\n  return `00${str}`.substr(str.length);\r\n}\r\n\r\n// 处理大于1w的数字\r\n// eslint-disable-next-line func-style\r\nexport function handleNum(num) {\r\n  if (num > 10000) {\r\n    num = (num / 10000).toFixed(1);\r\n    return `${num}万`;\r\n  }\r\n  return num;\r\n}\r\n\r\n// 处理音乐时长的时间\r\n// eslint-disable-next-line func-style\r\nexport function handleMusicTime(time) {\r\n  // 如果超过了100000 基本都是毫秒为单位的了 先转成秒的\r\n  time = parseInt(time);\r\n  if (time > 10000) {\r\n    time = Math.floor(time / 1000);\r\n  } else {\r\n    time = Math.floor(time);\r\n  }\r\n  let m = Math.floor(time / 60);\r\n  let s = Math.floor(time % 60);\r\n  m = m < 10 ? `0${m}` : m;\r\n  s = s < 10 ? `0${s}` : s;\r\n  return `${m}:${s}`;\r\n}\r\n\r\n// 将播放时长还原为秒数\r\n// eslint-disable-next-line func-style\r\nexport function returnSecond(time) {\r\n  time = time.split(':');\r\n  const m = parseInt(time[0]);\r\n  const s = parseInt(time[1]);\r\n  return m * 60 + s;\r\n}\r\n"],"sourceRoot":""}