(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7650795e"],{1394:function(t,e,i){t.exports=i.p+"img/recommendMusic.dadb06d2.png"},"5d18":function(t,e,i){},"92c6":function(t,e,i){"use strict";i("5d18")},a1597:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommendMusic"},[i("div",{staticClass:"recommendInfo"},[t._m(0),i("div",{staticClass:"buttons"},[i("div",{staticClass:"buttonItem playAll",on:{click:t.playAll}},[i("i",{staticClass:"iconfont icon-bofang playAll"}),i("span",[t._v("播放全部")])]),t._m(1)])]),0!=t.recommendMusic.length?i("div",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.recommendMusic,size:"mini","highlight-current-row":"",stripe:"",lazy:""},on:{"row-dblclick":t.clickRow}},[i("el-table-column",{attrs:{label:"",width:"30",type:"index",index:t.handleIndex}}),i("el-table-column",{attrs:{prop:"name",label:"音乐标题","min-width":"300"}}),i("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手","min-width":"120"}}),i("el-table-column",{attrs:{prop:"al.name",label:"专辑","min-width":"170"}}),i("el-table-column",{attrs:{prop:"dt",label:"时长","min-width":"100"}})],1),i("div",{staticClass:"placeholder"})],1):t._e()])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"cover"},[s("img",{attrs:{src:i("1394"),alt:""}})]),s("div",{staticClass:"titleInfo"},[s("div",{staticClass:"infoTop"},[t._v("每日歌曲推荐")]),s("div",{staticClass:"infoBottom"},[t._v("根据你的音乐口味生成，每天6:00更新")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"buttonItem"},[i("i",{staticClass:"iconfont icon-xihuan"}),i("span",[t._v("收藏全部")])])}],n=i("d930"),r=i("2f62"),o={name:"RecommendMusic",data(){return{recommendMusic:[],recommendMusicListId:"recommendMusic"}},computed:{...Object(r["c"])(["musicId","isLogin","musicListId"])},methods:{...Object(r["b"])(["updateMusicId","updateMusicList"]),async getRecommendMusic(){const t=await this.get("/recommend/songs");this.recommendMusic=t.data.dailySongs,this.recommendMusic.forEach((t,e)=>{this.recommendMusic[e].dt=Object(n["b"])(t.dt)})},playAll(){this.updateMusicId(this.recommendMusic[0].id),this.updateMusicList({musicList:this.recommendMusic,musicListId:this.recommendMusicListId})},handleIndex(t){return t+=1,t<10?"0"+t:t},async clickRow(t){this.updateMusicId(t.id),this.recommendMusicListId!==this.musicListId&&this.updateMusicList({musicList:this.recommendMusic,musicListId:this.recommendMusicListId})},handleDOM(t,e){if(document.querySelector(".recommendMusic")){const i=document.querySelector(".recommendMusic").querySelectorAll(".el-table__row"),s=this.recommendMusic.findIndex(e=>e.id===t);if(-1!==s&&(i[s].children[0].querySelector(".cell").innerHTML='<div><i class="iconfont icon-yinliang"></i></div>',i[s].children[0].querySelector(".iconfont").classList.add("currentRow"),i[s].children[2].querySelector(".cell").classList.add("currentRow")),-1!==e){const t=this.recommendMusic.findIndex(t=>t.id===e);-1!==t&&(i[t].children[0].querySelector(".cell").innerHTML=`<div>${t+1<10?"0"+(t+1):t+1}</div>`,i[t].children[2].querySelector(".cell").classList.remove("currentRow"))}}}},created(){this.isLogin||(this.$message.error("只有登录后才能进入每日推荐页面哦!"),this.$router.replace("/discover"))},async mounted(){this.isLogin&&(await this.getRecommendMusic(),this.recommendMusicListId===this.musicListId&&this.handleDOM(this.musicId))},watch:{musicId(t,e){this.handleDOM(t,e)}}},d=o,l=(i("92c6"),i("2877")),a=Object(l["a"])(d,s,c,!1,null,"34588628",null);e["default"]=a.exports},d930:function(t,e,i){"use strict";function s(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(""+t.getFullYear()).substr(4-RegExp.$1.length)));const i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(const s in i)if(new RegExp(`(${s})`).test(e)){const t=""+i[s];e=e.replace(RegExp.$1,1===RegExp.$1.length?t:c(t))}return e}function c(t){return("00"+t).substr(t.length)}function n(t){return t>1e4?(t=(t/1e4).toFixed(1),t+"万"):t}function r(t){t=parseInt(t),t=t>1e4?Math.floor(t/1e3):Math.floor(t);let e=Math.floor(t/60),i=Math.floor(t%60);return e=e<10?"0"+e:e,i=i<10?"0"+i:i,`${e}:${i}`}function o(t){t=t.split(":");const e=parseInt(t[0]),i=parseInt(t[1]);return 60*e+i}i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"d",(function(){return o}))}}]);
//# sourceMappingURL=chunk-7650795e.d74bfca7.js.map