{"version":3,"sources":["webpack:///./src/assets/img/topSongsLogo.png","webpack:///./src/components/videoListCard/VideoListCard.vue?0e7f","webpack:///./src/views/singerDetail/SingerDetail.vue?67c9","webpack:///./src/components/listTable/ListTable.vue?a59c","webpack:///src/components/listTable/ListTable.vue","webpack:///./src/components/listTable/ListTable.vue?c664","webpack:///./src/components/listTable/ListTable.vue","webpack:///src/views/singerDetail/SingerDetail.vue","webpack:///./src/views/singerDetail/SingerDetail.vue?cc8c","webpack:///./src/views/singerDetail/SingerDetail.vue","webpack:///./src/views/singerDetail/SingerDetail.vue?b363","webpack:///./src/components/listTable/ListTable.vue?54d6","webpack:///./src/components/videoListCard/VideoListCard.vue?460a","webpack:///src/components/videoListCard/VideoListCard.vue","webpack:///./src/components/videoListCard/VideoListCard.vue?bcef","webpack:///./src/components/videoListCard/VideoListCard.vue","webpack:///./src/plugins/utils.js"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","singerInfo","staticClass","attrs","cover","_v","_s","name","on","subSinger","class","isSub","_m","musicSize","albumSize","mvSize","clickTab","topSongs","isCheckAllShow","$route","params","id","toString","handleRowClick","handleRowDbClick","allTopSongs","slot","_e","singerAlbum","length","directives","rawName","value","expression","disabled","_l","item","index","key","songsObj","album","blurPicUrl","singerMvInfo","mvs","goToVideoDetail","bottomLoad","briefDesc","staticRenderFns","officialListDetailItem","coverImgUrl","$event","clickCheckAll","_t","tracks","slice","isOpen","songs","ar","component","videoType","clickListCardItem","type","imgurl","_f","playCount","duration","artistName","vid","data","coverUrl","playTime","durationms","title","formatDate","date","fmt","test","replace","RegExp","$1","getFullYear","substr","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","handleNum","num","toFixed","handleMusicTime","time","parseInt","Math","floor","m","s","returnSecond","split"],"mappings":"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","file":"js/chunk-4f4e7ce4.cc8f0286.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/topSongsLogo.3c321631.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoListCard.vue?vue&type=style&index=0&id=2ef37bc3&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.singerInfo.cover)?_c('div',{staticClass:\"singerDetail\"},[_c('div',{staticClass:\"listInfo\"},[_c('div',{staticClass:\"listAvatar\"},[_c('img',{attrs:{\"src\":_vm.singerInfo.cover + '?param=300y300',\"alt\":\"\"}})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"titleContent\"},[_vm._v(_vm._s(_vm.singerInfo.name))])]),_c('div',{staticClass:\"buttons\"},[_c('div',{staticClass:\"buttonItem\",on:{\"click\":_vm.subSinger}},[_c('i',{staticClass:\"iconfont icon-xihuan\",class:_vm.isSub ? 'red' : ''}),_c('span',[_vm._v(_vm._s(_vm.isSub ? '已收藏' : '收藏'))])]),_vm._m(0)]),_c('div',{staticClass:\"otherInfo\"},[_c('div',{staticClass:\"musicNum\"},[_vm._v(\"单曲数 : \"+_vm._s(_vm.singerInfo.musicSize))]),_c('div',{staticClass:\"musicNum\"},[_vm._v(\"专辑数 : \"+_vm._s(_vm.singerInfo.albumSize))]),_c('div',{staticClass:\"musicNum\"},[_vm._v(\"MV数 : \"+_vm._s(_vm.singerInfo.mvSize))])])])]),_c('div',{staticClass:\"musicList\"},[_c('el-tabs',{attrs:{\"value\":\"first\"},on:{\"tab-click\":_vm.clickTab}},[_c('el-tab-pane',{attrs:{\"label\":\"专辑\",\"name\":\"first\"}},[(_vm.topSongs.topSongs)?_c('div',{staticClass:\"topSongs\"},[_c('list-table',{attrs:{\"officialListDetailItem\":_vm.topSongs,\"isCheckAllShow\":_vm.isCheckAllShow,\"cover\":require('/src/assets/img/topSongsLogo.png'),\"listId\":this.$route.params.id.toString()},on:{\"handleRowClick\":_vm.handleRowClick,\"handleRowDbClick\":_vm.handleRowDbClick,\"clickCheckAll\":_vm.allTopSongs}},[_c('div',{staticClass:\"header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"热门50首\")])])])],1):_vm._e(),(_vm.singerAlbum.length != 0)?_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"albumItemContainer\",attrs:{\"infinite-scroll-disabled\":_vm.disabled,\"infinite-scroll-distance\":300,\"infinite-scroll-immediate\":false}},_vm._l((_vm.singerAlbum),function(item,index){return _c('div',{key:index,staticClass:\"albumItem\"},[_c('list-table',{attrs:{\"officialListDetailItem\":item.songsObj,\"cover\":item.album.blurPicUrl + '?param=300y300',\"listId\":item.album.id.toString()},on:{\"handleRowClick\":_vm.handleRowClick,\"handleRowDbClick\":_vm.handleRowDbClick}},[_c('div',{staticClass:\"header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.album.name))])])])],1)}),0):_vm._e()]),_c('el-tab-pane',{attrs:{\"label\":\"MV\",\"name\":\"second\"}},[_c('video-list-card',{attrs:{\"videoList\":_vm.singerMvInfo.mvs,\"isLoad\":true},on:{\"clickListCardItem\":_vm.goToVideoDetail,\"bottomLoad\":_vm.bottomLoad}})],1),_c('el-tab-pane',{attrs:{\"label\":\"歌手详情\",\"name\":\"third\"}},[_c('div',{staticClass:\"singerDesc\"},[_vm._v(_vm._s(_vm.singerInfo.briefDesc))])])],1)],1)]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buttonItem\"},[_c('i',{staticClass:\"iconfont icon-link\"}),_c('span',[_vm._v(\"个人主页\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"officalItem\"},[_c('div',{staticClass:\"listCover\"},[_c('img',{attrs:{\"src\":_vm.officialListDetailItem.coverImgUrl || _vm.cover,\"alt\":\"\"},on:{\"click\":function($event){_vm.officialListDetailItem.coverImgUrl ? _vm.clickCheckAll(_vm.officialListDetailItem.id) : ''}}})]),_c('div',{staticClass:\"listContainer\"},[_vm._t(\"header\"),_c('table',_vm._l(((_vm.officialListDetailItem.tracks && _vm.officialListDetailItem.tracks.slice(0, 5)) ||\n          (_vm.officialListDetailItem.topSongs &&\n            (_vm.officialListDetailItem.isOpen ? _vm.officialListDetailItem.topSongs : _vm.officialListDetailItem.topSongs.slice(0, 10))) ||\n          _vm.officialListDetailItem.songs.slice(0, 10)),function(item,index){return _c('tr',{key:index,staticClass:\"listRows\",on:{\"click\":_vm.handleRowClick,\"dblclick\":function($event){return _vm.handleRowDbClick(_vm.officialListDetailItem.id || item.id, index)}}},[_c('td',{staticClass:\"index\"},[_vm._v(_vm._s(index + 1))]),_c('td',{staticClass:\"musicName\"},[_vm._v(_vm._s(item.name))]),_c('td',{staticClass:\"singer\"},[_vm._v(_vm._s(item.ar[0].name))])])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCheckAllShow),expression:\"isCheckAllShow\"}],staticClass:\"checkAll\",on:{\"click\":function($event){return _vm.clickCheckAll(_vm.officialListDetailItem.id)}}},[_vm._v(\" 查看全部 \"),_c('i',{staticClass:\"iconfont icon-arrow-right-bold\"})])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 这个组件为了复用写的很乱，懒得整理了 -->\r\n  <div>\r\n    <div class=\"officalItem\">\r\n      <div class=\"listCover\">\r\n        <img\r\n          :src=\"officialListDetailItem.coverImgUrl || cover\"\r\n          alt=\"\"\r\n          @click=\"officialListDetailItem.coverImgUrl ? clickCheckAll(officialListDetailItem.id) : ''\"\r\n        />\r\n      </div>\r\n      <div class=\"listContainer\">\r\n        <slot name=\"header\"></slot>\r\n        <table>\r\n          <tr\r\n            class=\"listRows\"\r\n            v-for=\"(item, index) in (officialListDetailItem.tracks && officialListDetailItem.tracks.slice(0, 5)) ||\r\n            (officialListDetailItem.topSongs &&\r\n              (officialListDetailItem.isOpen ? officialListDetailItem.topSongs : officialListDetailItem.topSongs.slice(0, 10))) ||\r\n            officialListDetailItem.songs.slice(0, 10)\"\r\n            :key=\"index\"\r\n            @click=\"handleRowClick\"\r\n            @dblclick=\"handleRowDbClick(officialListDetailItem.id || item.id, index)\"\r\n          >\r\n            <td class=\"index\">{{ index + 1 }}</td>\r\n            <td class=\"musicName\">{{ item.name }}</td>\r\n            <td class=\"singer\">{{ item.ar[0].name }}</td>\r\n          </tr>\r\n        </table>\r\n        <div class=\"checkAll\" @click=\"clickCheckAll(officialListDetailItem.id)\" v-show=\"isCheckAllShow\">\r\n          查看全部 <i class=\"iconfont icon-arrow-right-bold\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'ListTable',\r\n    data() {\r\n      return {};\r\n    },\r\n    props: {\r\n      officialListDetailItem: {\r\n        type: Object,\r\n        default() {\r\n          return {};\r\n        },\r\n      },\r\n      // 传过来的封面\r\n      cover: {\r\n        type: String,\r\n        default() {\r\n          return '';\r\n        },\r\n      },\r\n      // 传过来的listId\r\n      listId: {\r\n        type: String,\r\n        default() {\r\n          return '';\r\n        },\r\n      },\r\n      // 是否显示查看全部按钮\r\n      isCheckAllShow: {\r\n        type: Boolean,\r\n        default() {\r\n          return true;\r\n        },\r\n      },\r\n    },\r\n    methods: {\r\n      // 点击行的回调 （选中）\r\n      handleRowClick(event) {\r\n        // 点击时，事件对象可能是td或tr，做下判断\r\n        let path;\r\n        if (event.path[0].localName === 'tr') {\r\n          // eslint-disable-next-line prefer-destructuring\r\n          path = event.path[0];\r\n        } else {\r\n          // eslint-disable-next-line prefer-destructuring\r\n          path = event.path[1];\r\n        }\r\n        this.$emit('handleRowClick', path);\r\n      },\r\n      // 双击行的回调 播放\r\n      // id 为当前歌单的id index为双击歌曲在歌单的索引\r\n      handleRowDbClick(id, index) {\r\n        const { listId } = this;\r\n        this.$emit('handleRowDbClick', { id, index, listId });\r\n      },\r\n      // 点击查看全部的回调\r\n      clickCheckAll(id) {\r\n        const { listId } = this;\r\n        this.$emit('clickCheckAll', { id, listId });\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .officalItem {\r\n    display: flex;\r\n    margin: 20px 0 50px 0;\r\n  }\r\n\r\n  .listCover {\r\n    width: 150px;\r\n    height: 150px;\r\n    margin-right: 20px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .listCover img {\r\n    width: 100%;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  .listContainer {\r\n    width: calc(100% - 200px);\r\n  }\r\n\r\n  table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .listRows {\r\n    height: 30px;\r\n    font-size: 12px;\r\n    color: rgb(153, 153, 153);\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    position: relative;\r\n  }\r\n\r\n  .listRows:nth-child(odd) {\r\n    background-color: #f9f9f9;\r\n  }\r\n  .listRows:hover {\r\n    background-color: #f4f4f4;\r\n  }\r\n\r\n  .listRows td {\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .index {\r\n    text-align: center;\r\n    line-height: 28px;\r\n    width: 30px;\r\n  }\r\n\r\n  .topthree {\r\n    color: crimson;\r\n  }\r\n\r\n  .listRows .musicName {\r\n    color: rgb(31, 31, 31);\r\n    transform: translate(-5%, -5%) scale(0.9);\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    width: 80%;\r\n  }\r\n\r\n  .singer {\r\n    text-align: right;\r\n    position: absolute;\r\n    right: 10px;\r\n  }\r\n\r\n  .checkAll {\r\n    color: rgb(134, 134, 134);\r\n    font-size: 12px;\r\n    transform: scale(0.9) translateX(-5%);\r\n    width: 100px;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .checkAll i {\r\n    font-size: 12px;\r\n  }\r\n\r\n  .selectRow {\r\n    background-color: #efefef !important;\r\n  }\r\n\r\n  tr {\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListTable.vue?vue&type=template&id=13e148ca&scoped=true&\"\nimport script from \"./ListTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ListTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListTable.vue?vue&type=style&index=0&id=13e148ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13e148ca\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div v-if=\"singerInfo.cover\" class=\"singerDetail\">\r\n    <!-- 类名可能不太对应文件，因为html和样式都是直接搬MusicListDetail里面的 -->\r\n    <!-- 歌单信息 -->\r\n    <div class=\"listInfo\">\r\n      <!-- 歌单封面 -->\r\n      <div class=\"listAvatar\">\r\n        <img :src=\"singerInfo.cover + '?param=300y300'\" alt=\"\" />\r\n      </div>\r\n      <div class=\"right\">\r\n        <!-- 标题 -->\r\n        <div class=\"title\">\r\n          <div class=\"titleContent\">{{ singerInfo.name }}</div>\r\n        </div>\r\n        <!-- 操作按钮 -->\r\n        <div class=\"buttons\">\r\n          <div class=\"buttonItem\" @click=\"subSinger\">\r\n            <i class=\"iconfont icon-xihuan\" :class=\"isSub ? 'red' : ''\"></i>\r\n            <span>{{ isSub ? '已收藏' : '收藏' }}</span>\r\n          </div>\r\n          <div class=\"buttonItem\">\r\n            <i class=\"iconfont icon-link\"></i>\r\n            <span>个人主页</span>\r\n          </div>\r\n        </div>\r\n        <!-- 歌曲列表的歌曲数量和播放量 -->\r\n        <div class=\"otherInfo\">\r\n          <div class=\"musicNum\">单曲数 : {{ singerInfo.musicSize }}</div>\r\n          <div class=\"musicNum\">专辑数 : {{ singerInfo.albumSize }}</div>\r\n          <div class=\"musicNum\">MV数 : {{ singerInfo.mvSize }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 歌曲列表 -->\r\n    <div class=\"musicList\">\r\n      <el-tabs value=\"first\" @tab-click=\"clickTab\">\r\n        <el-tab-pane label=\"专辑\" name=\"first\">\r\n          <div class=\"topSongs\" v-if=\"topSongs.topSongs\">\r\n            <list-table\r\n              :officialListDetailItem=\"topSongs\"\r\n              @handleRowClick=\"handleRowClick\"\r\n              @handleRowDbClick=\"handleRowDbClick\"\r\n              @clickCheckAll=\"allTopSongs\"\r\n              :isCheckAllShow=\"isCheckAllShow\"\r\n              :cover=\"require('/src/assets/img/topSongsLogo.png')\"\r\n              :listId=\"this.$route.params.id.toString()\"\r\n            >\r\n              <div slot=\"header\" class=\"header\">\r\n                <div class=\"title\">热门50首</div>\r\n              </div>\r\n            </list-table>\r\n          </div>\r\n          <div\r\n            class=\"albumItemContainer\"\r\n            v-if=\"singerAlbum.length != 0\"\r\n            v-infinite-scroll=\"load\"\r\n            :infinite-scroll-disabled=\"disabled\"\r\n            :infinite-scroll-distance=\"300\"\r\n            :infinite-scroll-immediate=\"false\"\r\n          >\r\n            <div class=\"albumItem\" v-for=\"(item, index) in singerAlbum\" :key=\"index\">\r\n              <list-table\r\n                :officialListDetailItem=\"item.songsObj\"\r\n                @handleRowClick=\"handleRowClick\"\r\n                @handleRowDbClick=\"handleRowDbClick\"\r\n                :cover=\"item.album.blurPicUrl + '?param=300y300'\"\r\n                :listId=\"item.album.id.toString()\"\r\n              >\r\n                <div slot=\"header\" class=\"header\">\r\n                  <div class=\"title\">{{ item.album.name }}</div>\r\n                </div>\r\n              </list-table>\r\n            </div>\r\n          </div>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"MV\" name=\"second\">\r\n          <video-list-card :videoList=\"singerMvInfo.mvs\" :isLoad=\"true\" @clickListCardItem=\"goToVideoDetail\" @bottomLoad=\"bottomLoad\"></video-list-card>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"歌手详情\" name=\"third\">\r\n          <div class=\"singerDesc\">{{ singerInfo.briefDesc }}</div>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { handleMusicTime } from 'plugins/utils';\r\n  import ListTable from '@/components/listTable/ListTable.vue';\r\n  import VideoListCard from '@/components/videoListCard/VideoListCard.vue';\r\n  import { mapMutations, mapState } from 'vuex';\r\n\r\n  // 记录上一首播放的音乐信息  用于清空小喇叭和红字样式\r\n  const currentRowInfo = {};\r\n  // 定时器名称\r\n  let timer;\r\n\r\n  export default {\r\n    components: { ListTable, VideoListCard },\r\n    name: 'SingerDetail',\r\n    data() {\r\n      return {\r\n        singerInfo: {},\r\n        // 热门50首\r\n        topSongs: {},\r\n        // 歌手专辑\r\n        singerAlbum: [],\r\n        // 专辑页数\r\n        albumPage: 1,\r\n        disabled: true,\r\n        isAlbumMore: false,\r\n        // 是否显示topSong的查看全部按钮\r\n        isCheckAllShow: true,\r\n        // 歌手mv数据\r\n        singerMvInfo: { mvs: [], hasMore: false },\r\n        // mv页数\r\n        videoPage: 1,\r\n        // 是否是双击操作\r\n        isDbc: false,\r\n        // 是否收藏了当前歌手\r\n        isSub: false,\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState(['musicListId', 'isMusicLoad', 'currentRowInfo', 'isLogin', 'subSingerList', 'musicId']),\r\n    },\r\n\r\n    methods: {\r\n      ...mapMutations(['updateSubSingerList', 'updateMusicId', 'updateMusicList', 'updateCurrentRowInfo']),\r\n      async getSingerInfo() {\r\n        const res = await this.get('/artist/detail', {\r\n          id: this.$route.params.id,\r\n        });\r\n        this.singerInfo = res.data.artist;\r\n      },\r\n      // 请求歌手热门50首歌曲\r\n      async getSingerTopSongs() {\r\n        const res = await this.get('/artist/top/song', {\r\n          id: this.$route.params.id,\r\n        });\r\n        const topSongs = res.songs;\r\n        // 处理歌单中歌曲的时间\r\n        topSongs.forEach((item, index) => {\r\n          topSongs[index].dt = handleMusicTime(item.dt);\r\n        });\r\n        // topSongs改成对象，并向里面添加isOpen属性，用于点击查看列表所有歌曲\r\n        this.topSongs = { topSongs, isOpen: false };\r\n      },\r\n      // 请求专辑列表 再用专辑id查询专辑信息\r\n      async getAlbumInfo() {\r\n        let res = await this.get('/artist/album', {\r\n          id: this.$route.params.id,\r\n          limit: 20,\r\n          offset: (this.albumPage - 1) * 20,\r\n        });\r\n        this.isAlbumMore = res.more;\r\n        res = res.hotAlbums;\r\n        await res.forEach(item => {\r\n          this.getAlbumDetail(item.id);\r\n        });\r\n      },\r\n      // 请求专辑详情信息\r\n      async getAlbumDetail(id) {\r\n        const res = await this.get('/album', { id });\r\n        // 将数组songs再保存一个对象格式，方便组件使用\r\n        const { songs } = res;\r\n        // 处理歌单中歌曲的时间\r\n        songs.forEach((item, index) => {\r\n          songs[index].dt = handleMusicTime(item.dt);\r\n        });\r\n        res.songsObj = { songs };\r\n        this.singerAlbum.push(res);\r\n      },\r\n      // 请求歌手 mv 数据\r\n      async getSingerMv() {\r\n        // 这个接口没有offset 参数\r\n        const res = await this.get('/artist/mv', {\r\n          id: this.$route.params.id,\r\n          limit: 20 * this.videoPage,\r\n        });\r\n        this.singerMvInfo = res;\r\n      },\r\n      // 请求收藏的歌手列表\r\n      async getSubSingerList() {\r\n        const timestamp = Date.parse(new Date());\r\n        const res = await this.get('/artist/sublist', {\r\n          limit: 1000,\r\n          timestamp,\r\n        });\r\n        this.updateSubSingerList(res.data);\r\n      },\r\n\r\n      // 事件函数\r\n      // 行点击事件的回调\r\n      handleRowClick(event) {\r\n        if (document.querySelector('.selectRow')) {\r\n          document.querySelector('.selectRow').classList.remove('selectRow');\r\n        }\r\n        event.classList.add('selectRow');\r\n      },\r\n\r\n      // 行双击事件的回调\r\n      // 这里的 id是歌曲id   index 双击歌曲在歌单中的索引   listId是歌单id\r\n      handleRowDbClick({ id, index, listId }) {\r\n        this.isDbc = true;\r\n        this.handleViewDOM(id, listId, index);\r\n        // 播放的逻辑操作\r\n        if (listId !== this.$route.params.id) {\r\n          const musicListIndex = this.singerAlbum.findIndex(item => item.album.id === Number(listId));\r\n          this.updateMusicId(id);\r\n          // 如果歌单发生变化,则提交歌单到vuex\r\n          if (listId !== this.musicListId) {\r\n            // 将歌单传到vuex\r\n            this.updateMusicList({\r\n              musicList: this.singerAlbum[musicListIndex].songs,\r\n              musicListId: listId,\r\n            });\r\n          }\r\n        } else {\r\n          this.$store.commit('updateMusicId', id);\r\n          // 如果歌单发生变化,则提交歌单到vuex\r\n          // 如果是topsong 就拿歌手的id 当作listid 作为唯一辨识\r\n          if (this.$route.params.id !== this.musicListId) {\r\n            // 将歌单传到vuex\r\n            this.updateMusicList({\r\n              musicList: this.topSongs.topSongs,\r\n              musicListId: this.$route.params.id,\r\n            });\r\n          }\r\n        }\r\n      },\r\n\r\n      handleViewDOM(id, listId, index) {\r\n        // 先清空之前的样式\r\n        if (currentRowInfo.listId) {\r\n          this.cleanStyle(currentRowInfo.i, currentRowInfo.listId);\r\n        }\r\n        const tables = document.querySelectorAll('table');\r\n        // 这里的 id是歌曲id   index 双击歌曲在歌单中的索引   listId是歌单id\r\n        let i = -1;\r\n        // 根据listId找歌单索引 listIndex\r\n        let listIndex = -1;\r\n        // top50的情况\r\n        if (listId === this.$route.params.id) {\r\n          listIndex = 0;\r\n          // eslint-disable-next-line brace-style\r\n        }\r\n        // 专辑的情况\r\n        else {\r\n          listIndex = this.singerAlbum.findIndex(item => item.album.id === listId);\r\n          // 如果没有，说明目前还没有渲染或者还没有请求\r\n          if (listIndex === -1) {\r\n            return;\r\n          }\r\n          listIndex += 1;\r\n        }\r\n\r\n        // 找歌曲在歌单中的索引 i\r\n        if (index === undefined) {\r\n          // 分top50和专辑两种情况\r\n          if (listIndex === 0) {\r\n            i = this.topSongs.topSongs.findIndex(item => item.id === id);\r\n          } else {\r\n            i = this.singerAlbum[listIndex - 1].songs.findIndex(item => item.id === id);\r\n          }\r\n        } else {\r\n          i = index;\r\n        }\r\n\r\n        // 渲染\r\n        if (tables[listIndex] && tables[listIndex].children[i]) {\r\n          const currentRow = tables[listIndex].children[i];\r\n          currentRow.querySelector('.index').innerHTML = \"<i class='iconfont icon-yinliang' style='color:#ff4e4e'></i>\";\r\n          currentRow.querySelector('.musicName').style.color = '#ff4e4e';\r\n\r\n          // 保存当前数据 供下次清空样式使用\r\n          currentRowInfo.i = i;\r\n          // 因为歌单的顺序可能会改变，所以不要直接保存索引\r\n          currentRowInfo.listId = listId;\r\n          currentRowInfo.singerId = this.$route.params.id;\r\n          // 将currentRowInfo上传至vuex 供下次重新进入页面使用\r\n          this.updateCurrentRowInfo(currentRowInfo);\r\n        }\r\n      },\r\n\r\n      cleanStyle(i, listId) {\r\n        const tables = document.querySelectorAll('table');\r\n        // 找到歌单的索引\r\n        let listIndex = -1;\r\n        if (listId === this.$route.params.id) {\r\n          listIndex = 0;\r\n          // eslint-disable-next-line brace-style\r\n        } // 专辑的情况\r\n        else {\r\n          listIndex = this.singerAlbum.findIndex(item => item.album.id === listId);\r\n          // 如果没有，说明目前还没有渲染或者还没有请求\r\n          if (listIndex === -1) {\r\n            return;\r\n          }\r\n          listIndex += 1;\r\n        }\r\n        if (tables[listIndex] && tables[listIndex].children[i]) {\r\n          const lastRow = tables[listIndex].children[i];\r\n          lastRow.querySelector('.index').innerHTML = i + 1;\r\n          lastRow.querySelector('.musicName').style.color = '#1f1f1f';\r\n        }\r\n      },\r\n      // 查看热门50首全部歌曲\r\n      allTopSongs() {\r\n        this.topSongs.isOpen = true;\r\n        this.isCheckAllShow = false;\r\n        // 查看全部后再次渲染样式\r\n        setTimeout(() => {\r\n          if (this.currentRowInfo.singerId === this.$route.params.id) {\r\n            this.handleViewDOM(this.musicId, this.musicListId);\r\n          }\r\n        }, 500);\r\n      },\r\n      // 专辑上拉触底加载\r\n      load() {\r\n        this.disabled = true;\r\n        this.albumPage += 1;\r\n        this.getAlbumInfo();\r\n      },\r\n\r\n      // mv上拉加载\r\n      bottomLoad() {\r\n        if (this.singerMvInfo.hasMore === true) {\r\n          this.videoPage += 1;\r\n          this.getSingerMv();\r\n        }\r\n      },\r\n      // 点击视频卡片进入视频详情\r\n      goToVideoDetail({ id }) {\r\n        if (!this.$store.state.isLogin) {\r\n          this.$message.error('登录后才能观看MV哦!');\r\n          return;\r\n        }\r\n        this.$router.push({ name: 'videoDetail', params: { id, type: 'mv' } });\r\n      },\r\n      // 点击el-tab-pane的回调\r\n      clickTab(e) {\r\n        if (e.index === '1' && this.singerMvInfo.mvs.length === 0) {\r\n          this.getSingerMv();\r\n        }\r\n      },\r\n      // 判断用户是否收藏了该歌手\r\n      getIsSub() {\r\n        this.isSub = this.subSingerList.find(item => item.id === this.$route.params.id);\r\n      },\r\n      // 点击subSinger按钮的回调\r\n      async subSinger() {\r\n        if (!this.isLogin) {\r\n          this.$message.error('请先登录!');\r\n          return;\r\n        }\r\n        this.isSub = !this.isSub;\r\n        // 发送请求\r\n        await this.get('/artist/sub', {\r\n          id: this.$route.params.id,\r\n          t: this.isSub ? 1 : 0,\r\n        });\r\n        // 每次进行修改操作后，都需要更新vuex里面的收藏list\r\n        this.getSubSingerList();\r\n      },\r\n    },\r\n    created() {\r\n      this.getSingerInfo();\r\n    },\r\n    watch: {\r\n      singerAlbum() {\r\n        if (this.singerAlbum.length !== 0 && this.isAlbumMore) {\r\n          this.disabled = false;\r\n        } else {\r\n          this.disabled = true;\r\n        }\r\n      },\r\n      // 音乐加载完成后重置isDbc\r\n      isMusicLoad(isMusicLoad) {\r\n        if (!isMusicLoad) {\r\n          this.isDbc = false;\r\n        }\r\n      },\r\n\r\n      musicId(current, last) {\r\n        // 判断是否是双击，如果是双击则不用调用handleView\r\n        if (!this.isDbc) {\r\n          this.handleViewDOM(this.musicId, this.musicListId);\r\n        }\r\n      },\r\n\r\n      // 监听singerAlbum的变化\r\n      singerAlbum() {\r\n        clearTimeout(timer);\r\n        timer = setTimeout(() => {\r\n          if (this.currentRowInfo.singerId === this.$route.params.id) {\r\n            this.handleViewDOM(this.musicId, this.musicListId);\r\n          }\r\n        }, 500);\r\n      },\r\n    },\r\n    async mounted() {\r\n      await this.getSingerTopSongs();\r\n      await this.getAlbumInfo();\r\n      this.$nextTick(() => {\r\n        if (this.currentRowInfo.singerId === this.$route.params.id) {\r\n          this.handleViewDOM(this.musicId, this.musicListId);\r\n        }\r\n      });\r\n      if (this.isLogin) {\r\n        if (this.subSingerList === null) {\r\n          await this.getSubSingerList();\r\n        }\r\n        this.getIsSub();\r\n      }\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .singerDetail {\r\n    overflow-y: scroll;\r\n    max-height: 785px;\r\n  }\r\n\r\n  .listInfo {\r\n    display: flex;\r\n    padding: 25px 40px;\r\n  }\r\n\r\n  .listAvatar {\r\n    width: 200px;\r\n    height: 200px;\r\n    overflow: hidden;\r\n\r\n    margin-right: 15px;\r\n  }\r\n\r\n  .listAvatar img {\r\n    width: 100%;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  .right {\r\n    /* margin-top: 10px; */\r\n    width: calc(100% - 200px);\r\n  }\r\n\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .titleTag {\r\n    font-size: 16px;\r\n    color: #ec4141;\r\n    border: 1px solid #ec4141;\r\n    padding: 1px 2px;\r\n    border-radius: 2px;\r\n    margin-right: 5px;\r\n    transform: scale(0.8);\r\n  }\r\n\r\n  .titleContent {\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    color: #373737;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    width: 90%;\r\n  }\r\n\r\n  .buttons {\r\n    margin: 15px 0 0 -5px;\r\n    display: flex;\r\n  }\r\n\r\n  .buttonItem {\r\n    font-size: 16px;\r\n    padding: 8px 15px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 20px;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .buttonItem i {\r\n    font-size: 16px;\r\n    margin-right: 3px;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .playAll {\r\n    background-color: #ec4141;\r\n    color: white;\r\n  }\r\n\r\n  .otherInfo {\r\n    margin: 15px 0 0 -30px;\r\n    display: flex;\r\n    font-size: 16px;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .musicNum {\r\n    margin-right: 13px;\r\n  }\r\n\r\n  .musicList {\r\n    margin: 0 40px;\r\n    padding-bottom: 90px;\r\n  }\r\n\r\n  .title {\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    color: black;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .singerDesc {\r\n    font-size: 16px;\r\n    color: #373737;\r\n    line-height: 25px;\r\n    letter-spacing: 0.5px;\r\n    text-indent: 2em;\r\n  }\r\n\r\n  .red {\r\n    color: #ec4141;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SingerDetail.vue?vue&type=template&id=6d12411c&scoped=true&\"\nimport script from \"./SingerDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./SingerDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SingerDetail.vue?vue&type=style&index=0&id=6d12411c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d12411c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerDetail.vue?vue&type=style&index=0&id=6d12411c&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListTable.vue?vue&type=style&index=0&id=13e148ca&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.videoType == 'singerMv' || _vm.videoType == 'mv')?_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"videoListCard\",attrs:{\"infinite-scroll-disabled\":_vm.disabled,\"infinite-scroll-distance\":300,\"infinite-scroll-immediate\":false}},_vm._l((_vm.videoList),function(item,index){return _c('div',{key:index,staticClass:\"cardItem\",on:{\"click\":function($event){return _vm.clickListCardItem(item.id, index, item.type)}}},[_c('div',{staticClass:\"videoCover\"},[_c('img',{attrs:{\"src\":(_vm.videoType == 'singerMv' ? item.imgurl : item.cover) + '?param=680y400',\"alt\":\"\"}}),_c('div',{staticClass:\"playCount\"},[_c('i',{staticClass:\"iconfont icon-shipin\"}),_vm._v(_vm._s(_vm._f(\"handleNum\")(item.playCount)))]),(_vm.videoType == 'singerMv')?_c('div',{staticClass:\"videoTime\"},[_vm._v(\" \"+_vm._s(_vm._f(\"handleMusicTime\")(item.duration))+\" \")]):_vm._e()]),_c('div',{staticClass:\"videoTitle\"},[_vm._v(_vm._s(item.name))]),(_vm.videoType == 'mv')?_c('div',{staticClass:\"singer\"},[_vm._v(_vm._s(item.artistName))]):_vm._e()])}),0):(_vm.videoType == 'video')?_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"videoListCard\",attrs:{\"infinite-scroll-disabled\":_vm.disabled,\"infinite-scroll-distance\":300,\"infinite-scroll-immediate\":false}},_vm._l((_vm.videoList),function(item,index){return _c('div',{key:index,staticClass:\"cardItem\",on:{\"click\":function($event){return _vm.clickListCardItem(item.vid || item.data.vid, index, item.type)}}},[_c('div',{staticClass:\"videoCover\"},[_c('img',{attrs:{\"src\":(item.coverUrl || item.data.coverUrl) + '?param=1260y800',\"alt\":\"\"}}),_c('div',{staticClass:\"playCount\"},[_c('i',{staticClass:\"iconfont icon-shipin\"}),_vm._v(_vm._s(_vm._f(\"handleNum\")((item.playTime || item.data.playTime))))]),_c('div',{staticClass:\"videoTime\"},[_vm._v(\" \"+_vm._s(_vm._f(\"handleMusicTime\")((item.durationms || item.data.durationms)))+\" \")])]),_c('div',{staticClass:\"videoTitle\"},[_vm._v(_vm._s(item.title || item.data.title))])])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div\r\n      class=\"videoListCard\"\r\n      v-infinite-scroll=\"load\"\r\n      :infinite-scroll-disabled=\"disabled\"\r\n      :infinite-scroll-distance=\"300\"\r\n      :infinite-scroll-immediate=\"false\"\r\n      v-if=\"videoType == 'singerMv' || videoType == 'mv'\"\r\n    >\r\n      <div class=\"cardItem\" v-for=\"(item, index) in videoList\" :key=\"index\" @click=\"clickListCardItem(item.id, index, item.type)\">\r\n        <div class=\"videoCover\">\r\n          <img :src=\"(videoType == 'singerMv' ? item.imgurl : item.cover) + '?param=680y400'\" alt=\"\" />\r\n          <div class=\"playCount\"><i class=\"iconfont icon-shipin\"></i>{{ item.playCount | handleNum }}</div>\r\n          <div class=\"videoTime\" v-if=\"videoType == 'singerMv'\">\r\n            {{ item.duration | handleMusicTime }}\r\n          </div>\r\n        </div>\r\n        <div class=\"videoTitle\">{{ item.name }}</div>\r\n        <div class=\"singer\" v-if=\"videoType == 'mv'\">{{ item.artistName }}</div>\r\n      </div>\r\n    </div>\r\n    <!-- video -->\r\n    <div\r\n      class=\"videoListCard\"\r\n      v-infinite-scroll=\"load\"\r\n      :infinite-scroll-disabled=\"disabled\"\r\n      :infinite-scroll-distance=\"300\"\r\n      :infinite-scroll-immediate=\"false\"\r\n      v-else-if=\"videoType == 'video'\"\r\n    >\r\n      <div class=\"cardItem\" v-for=\"(item, index) in videoList\" :key=\"index\" @click=\"clickListCardItem(item.vid || item.data.vid, index, item.type)\">\r\n        <div class=\"videoCover\">\r\n          <img :src=\"(item.coverUrl || item.data.coverUrl) + '?param=1260y800'\" alt=\"\" />\r\n          <div class=\"playCount\"><i class=\"iconfont icon-shipin\"></i>{{ (item.playTime || item.data.playTime) | handleNum }}</div>\r\n          <div class=\"videoTime\">\r\n            {{ (item.durationms || item.data.durationms) | handleMusicTime }}\r\n          </div>\r\n        </div>\r\n        <div class=\"videoTitle\">{{ item.title || item.data.title }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { handleMusicTime, handleNum } from 'plugins/utils.js';\r\n\r\n  export default {\r\n    name: 'VideoListCard',\r\n    data() {\r\n      return {\r\n        // 无限滚动是否可用\r\n        disabled: true,\r\n      };\r\n    },\r\n    props: {\r\n      videoList: {\r\n        type: Array,\r\n        default() {\r\n          return [];\r\n        },\r\n      },\r\n      // 是否触底加载\r\n      isLoad: {\r\n        type: Boolean,\r\n        default() {\r\n          return false;\r\n        },\r\n      },\r\n      videoType: {\r\n        type: String,\r\n        default() {\r\n          return 'singerMv';\r\n        },\r\n      },\r\n    },\r\n    methods: {\r\n      clickListCardItem(id, index, type) {\r\n        this.$emit('clickListCardItem', { id, index, type });\r\n      },\r\n      // 上拉触底触发\r\n      load() {\r\n        this.$emit('bottomLoad');\r\n        // 触发load后加载数据 期间不允许再次触发load事件\r\n        this.disabled = true;\r\n      },\r\n    },\r\n    filters: {\r\n      handleMusicTime,\r\n      handleNum,\r\n    },\r\n    watch: {\r\n      //   数据更新后，再次运行触发load事件\r\n      videoList() {\r\n        if (this.isLoad === true) {\r\n          if (this.videoList.length !== 0) {\r\n            this.disabled = false;\r\n          } else {\r\n            this.disabled = true;\r\n          }\r\n        }\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .videoListCard {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    padding: 0;\r\n    justify-content: center;\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .cardItem {\r\n    max-width: 228px;\r\n    /* width: 18.3vw; */\r\n    width: 14.64vw;\r\n    margin-right: 1%;\r\n    margin-left: 1%;\r\n    margin-bottom: 20px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  /* .cardItem:nth-child(4n) {\r\n  margin: 0;\r\n} */\r\n\r\n  .videoCover {\r\n    position: relative;\r\n    /* height: 11.6vw; */\r\n    height: 9.28vw;\r\n    width: 100%;\r\n    max-height: 144px;\r\n    overflow: hidden;\r\n    border-radius: 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: black;\r\n  }\r\n\r\n  .videoCover img {\r\n    width: 18.3vw;\r\n  }\r\n\r\n  .playCount {\r\n    font-size: 12px;\r\n    color: white;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 5px;\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  .videoTime {\r\n    font-size: 12px;\r\n    color: white;\r\n    position: absolute;\r\n    bottom: 5px;\r\n    transform: scale(0.9);\r\n    right: 5px;\r\n  }\r\n\r\n  .videoTitle {\r\n    margin-top: 8px;\r\n    font-size: 12px;\r\n    line-height: 16px;\r\n    color: rgb(32, 32, 32);\r\n    word-break: break-all;\r\n    /* 两行溢出 */\r\n    text-overflow: -o-ellipsis-lastline;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 2;\r\n    line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n  }\r\n\r\n  .singer {\r\n    font-size: 12px;\r\n    transform: scale(0.9) translateX(-5%);\r\n    margin: 1px 0 0 -1px;\r\n    padding: 0;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoListCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoListCard.vue?vue&type=template&id=2ef37bc3&scoped=true&\"\nimport script from \"./VideoListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoListCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoListCard.vue?vue&type=style&index=0&id=2ef37bc3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ef37bc3\",\n  null\n  \n)\n\nexport default component.exports","// 格式化时间\r\n// eslint-disable-next-line func-style\r\nexport function formatDate(date, fmt) {\r\n  // 1.获取年份\r\n  // y+ 1个或者多个y  yyyy:2021\r\n  // y* 0个或者多个y\r\n  // y? 0个或者1个y\r\n  if (/(y+)/.test(fmt)) {\r\n    // RegExp.$1 指的是与正则表达式匹配的第一个子匹配\r\n    fmt = fmt.replace(RegExp.$1, `${date.getFullYear()}`.substr(4 - RegExp.$1.length));\r\n  }\r\n\r\n  // 2.获取月日等\r\n  const o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds(),\r\n  };\r\n  for (const k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      const str = `${o[k]}`;\r\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\r\n    }\r\n  }\r\n  return fmt;\r\n}\r\n\r\n// 不足两位补足两位 04:05:09\r\n// eslint-disable-next-line func-style\r\nfunction padLeftZero(str) {\r\n  // str=4 -> 004 截取 1 位 -> 04\r\n  return `00${str}`.substr(str.length);\r\n}\r\n\r\n// 处理大于1w的数字\r\n// eslint-disable-next-line func-style\r\nexport function handleNum(num) {\r\n  if (num > 10000) {\r\n    num = (num / 10000).toFixed(1);\r\n    return `${num}万`;\r\n  }\r\n  return num;\r\n}\r\n\r\n// 处理音乐时长的时间\r\n// eslint-disable-next-line func-style\r\nexport function handleMusicTime(time) {\r\n  // 如果超过了100000 基本都是毫秒为单位的了 先转成秒的\r\n  time = parseInt(time);\r\n  if (time > 10000) {\r\n    time = Math.floor(time / 1000);\r\n  } else {\r\n    time = Math.floor(time);\r\n  }\r\n  let m = Math.floor(time / 60);\r\n  let s = Math.floor(time % 60);\r\n  m = m < 10 ? `0${m}` : m;\r\n  s = s < 10 ? `0${s}` : s;\r\n  return `${m}:${s}`;\r\n}\r\n\r\n// 将播放时长还原为秒数\r\n// eslint-disable-next-line func-style\r\nexport function returnSecond(time) {\r\n  time = time.split(':');\r\n  const m = parseInt(time[0]);\r\n  const s = parseInt(time[1]);\r\n  return m * 60 + s;\r\n}\r\n"],"sourceRoot":""}